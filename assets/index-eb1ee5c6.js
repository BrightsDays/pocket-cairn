var dl=Object.defineProperty;var hl=(l,e,t)=>e in l?dl(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var mt=(l,e,t)=>(hl(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();function j(){}const dt=l=>l;function gl(l,e){for(const t in e)l[t]=e[t];return l}function Zn(l){return l()}function zt(){return Object.create(null)}function ge(l){l.forEach(Zn)}function Ae(l){return typeof l=="function"}function K(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let lt;function vt(l,e){return l===e?!0:(lt||(lt=document.createElement("a")),lt.href=e,l===lt.href)}function pl(l){return Object.keys(l).length===0}function ml(l,...e){if(l==null){for(const n of e)n(void 0);return j}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function re(l,e,t){l.$$.on_destroy.push(ml(e,t))}function Tt(l,e,t,n){if(l){const a=el(l,e,t,n);return l[0](a)}}function el(l,e,t,n){return l[1]&&n?gl(t.ctx.slice(),l[1](n(e))):t.ctx}function Ct(l,e,t,n){if(l[2]&&n){const a=l[2](n(t));if(e.dirty===void 0)return a;if(typeof a=="object"){const i=[],s=Math.max(e.dirty.length,a.length);for(let o=0;o<s;o+=1)i[o]=e.dirty[o]|a[o];return i}return e.dirty|a}return e.dirty}function Mt(l,e,t,n,a,i){if(a){const s=el(e,t,n,i);l.p(s,a)}}function At(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ee(l){return l??""}function kt(l){return l&&Ae(l.destroy)?l.destroy:j}const tl=typeof window<"u";let Pt=tl?()=>window.performance.now():()=>Date.now(),Rt=tl?l=>requestAnimationFrame(l):j;const qe=new Set;function nl(l){qe.forEach(e=>{e.c(l)||(qe.delete(e),e.f())}),qe.size!==0&&Rt(nl)}function Wt(l){let e;return qe.size===0&&Rt(nl),{promise:new Promise(t=>{qe.add(e={c:l,f:t})}),abort(){qe.delete(e)}}}function g(l,e){l.appendChild(e)}function ll(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function yl(l){const e=w("style");return e.textContent="/* empty */",bl(ll(l),e),e.sheet}function bl(l,e){return g(l.head||l,e),e.sheet}function H(l,e,t){l.insertBefore(e,t||null)}function $(l){l.parentNode&&l.parentNode.removeChild(l)}function pe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function w(l){return document.createElement(l)}function I(l){return document.createTextNode(l)}function S(){return I(" ")}function ht(){return I("")}function oe(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function p(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function _l(l){return Array.from(l.childNodes)}function U(l,e){e=""+e,l.data!==e&&(l.data=e)}function st(l,e){l.value=e??""}function at(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function al(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}const ot=new Map;let rt=0;function wl(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function vl(l,e){const t={stylesheet:yl(e),rules:{}};return ot.set(l,t),t}function ut(l,e,t,n,a,i,s,o=0){const u=16.666/n;let r=`{
`;for(let y=0;y<=1;y+=u){const v=e+(t-e)*i(y);r+=y*100+`%{${s(v,1-v)}}
`}const f=r+`100% {${s(t,1-t)}}
}`,c=`__svelte_${wl(f)}_${o}`,d=ll(l),{stylesheet:m,rules:h}=ot.get(d)||vl(d,l);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const b=l.style.animation||"";return l.style.animation=`${b?`${b}, `:""}${c} ${n}ms linear ${a}ms 1 both`,rt+=1,c}function ft(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),a=t.length-n.length;a&&(l.style.animation=n.join(", "),rt-=a,rt||kl())}function kl(){Rt(()=>{rt||(ot.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&$(e)}),ot.clear())})}let nt;function tt(l){nt=l}function il(){if(!nt)throw new Error("Function called outside component initialization");return nt}function $l(l){il().$$.on_mount.push(l)}function me(){const l=il();return(e,t,{cancelable:n=!1}={})=>{const a=l.$$.callbacks[e];if(a){const i=al(e,t,{cancelable:n});return a.slice().forEach(s=>{s.call(l,i)}),!i.defaultPrevented}return!0}}const Ve=[],Ot=[];let xe=[];const Et=[],Hl=Promise.resolve();let $t=!1;function Sl(){$t||($t=!0,Hl.then(sl))}function he(l){xe.push(l)}const yt=new Set;let Ee=0;function sl(){if(Ee!==0)return;const l=nt;do{try{for(;Ee<Ve.length;){const e=Ve[Ee];Ee++,tt(e),Tl(e.$$)}}catch(e){throw Ve.length=0,Ee=0,e}for(tt(null),Ve.length=0,Ee=0;Ot.length;)Ot.pop()();for(let e=0;e<xe.length;e+=1){const t=xe[e];yt.has(t)||(yt.add(t),t())}xe.length=0}while(Ve.length);for(;Et.length;)Et.pop()();$t=!1,yt.clear(),tt(l)}function Tl(l){if(l.fragment!==null){l.update(),ge(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(he)}}function Cl(l){const e=[],t=[];xe.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),xe=e}let Ze;function Bt(){return Ze||(Ze=Promise.resolve(),Ze.then(()=>{Ze=null})),Ze}function Ye(l,e,t){l.dispatchEvent(al(`${e?"intro":"outro"}${t}`))}const it=new Set;let Te;function te(){Te={r:0,c:[],p:Te}}function ne(){Te.r||ge(Te.c),Te=Te.p}function _(l,e){l&&l.i&&(it.delete(l),l.i(e))}function k(l,e,t,n){if(l&&l.o){if(it.has(l))return;it.add(l),Te.c.push(()=>{it.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const It={duration:0};function gt(l,e,t){const n={direction:"in"};let a=e(l,t,n),i=!1,s,o,u=0;function r(){s&&ft(l,s)}function f(){const{delay:d=0,duration:m=300,easing:h=dt,tick:b=j,css:y}=a||It;y&&(s=ut(l,0,1,m,d,h,y,u++)),b(0,1);const v=Pt()+d,B=v+m;o&&o.abort(),i=!0,he(()=>Ye(l,!0,"start")),o=Wt(O=>{if(i){if(O>=B)return b(1,0),Ye(l,!0,"end"),r(),i=!1;if(O>=v){const C=h((O-v)/m);b(C,1-C)}}return i})}let c=!1;return{start(){c||(c=!0,ft(l),Ae(a)?(a=a(n),Bt().then(f)):f())},invalidate(){c=!1},end(){i&&(r(),i=!1)}}}function pt(l,e,t){const n={direction:"out"};let a=e(l,t,n),i=!0,s;const o=Te;o.r+=1;let u;function r(){const{delay:f=0,duration:c=300,easing:d=dt,tick:m=j,css:h}=a||It;h&&(s=ut(l,1,0,c,f,d,h));const b=Pt()+f,y=b+c;he(()=>Ye(l,!1,"start")),"inert"in l&&(u=l.inert,l.inert=!0),Wt(v=>{if(i){if(v>=y)return m(0,1),Ye(l,!1,"end"),--o.r||ge(o.c),!1;if(v>=b){const B=d((v-b)/c);m(1-B,B)}}return i})}return Ae(a)?Bt().then(()=>{a=a(n),r()}):r(),{end(f){f&&"inert"in l&&(l.inert=u),f&&a.tick&&a.tick(1,0),i&&(s&&ft(l,s),i=!1)}}}function Je(l,e,t,n){let i=e(l,t,{direction:"both"}),s=n?0:1,o=null,u=null,r=null,f;function c(){r&&ft(l,r)}function d(h,b){const y=h.b-s;return b*=Math.abs(y),{a:s,b:h.b,d:y,duration:b,start:h.start,end:h.start+b,group:h.group}}function m(h){const{delay:b=0,duration:y=300,easing:v=dt,tick:B=j,css:O}=i||It,C={start:Pt()+b,b:h};h||(C.group=Te,Te.r+=1),"inert"in l&&(h?f!==void 0&&(l.inert=f):(f=l.inert,l.inert=!0)),o||u?u=C:(O&&(c(),r=ut(l,s,h,y,b,v,O)),h&&B(0,1),o=d(C,y),he(()=>Ye(l,h,"start")),Wt(D=>{if(u&&D>u.start&&(o=d(u,y),u=null,Ye(l,o.b,"start"),O&&(c(),r=ut(l,s,o.b,o.duration,0,v,i.css))),o){if(D>=o.end)B(s=o.b,1-s),Ye(l,o.b,"end"),u||(o.b?c():--o.group.r||ge(o.group.c)),o=null;else if(D>=o.start){const x=D-o.start;s=o.a+o.d*v(x/o.duration),B(s,1-s)}}return!!(o||u)}))}return{run(h){Ae(i)?Bt().then(()=>{i=i({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),o=u=null}}}function Q(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function P(l){l&&l.c()}function M(l,e,t){const{fragment:n,after_update:a}=l.$$;n&&n.m(e,t),he(()=>{const i=l.$$.on_mount.map(Zn).filter(Ae);l.$$.on_destroy?l.$$.on_destroy.push(...i):ge(i),l.$$.on_mount=[]}),a.forEach(he)}function A(l,e){const t=l.$$;t.fragment!==null&&(Cl(t.after_update),ge(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ml(l,e){l.$$.dirty[0]===-1&&(Ve.push(l),Sl(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function X(l,e,t,n,a,i,s,o=[-1]){const u=nt;tt(l);const r=l.$$={fragment:null,ctx:[],props:i,update:j,not_equal:a,bound:zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:zt(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};s&&s(r.root);let f=!1;if(r.ctx=t?t(l,e.props||{},(c,d,...m)=>{const h=m.length?m[0]:d;return r.ctx&&a(r.ctx[c],r.ctx[c]=h)&&(!r.skip_bound&&r.bound[c]&&r.bound[c](h),f&&Ml(l,c)),d}):[],r.update(),f=!0,ge(r.before_update),r.fragment=n?n(r.ctx):!1,e.target){if(e.hydrate){const c=_l(e.target);r.fragment&&r.fragment.l(c),c.forEach($)}else r.fragment&&r.fragment.c();e.intro&&_(l.$$.fragment),M(l,e.target,e.anchor),sl()}tt(u)}class Z{constructor(){mt(this,"$$");mt(this,"$$set")}$destroy(){A(this,1),this.$destroy=j}$on(e,t){if(!Ae(t))return j;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const a=n.indexOf(t);a!==-1&&n.splice(a,1)}}$set(e){this.$$set&&!pl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Al="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Al);const Ge=[];function ke(l,e=j){let t;const n=new Set;function a(o){if(K(l,o)&&(l=o,t)){const u=!Ge.length;for(const r of n)r[1](),Ge.push(r,l);if(u){for(let r=0;r<Ge.length;r+=2)Ge[r][0](Ge[r+1]);Ge.length=0}}}function i(o){a(o(l))}function s(o,u=j){const r=[o,u];return n.add(r),n.size===1&&(t=e(a,i)||j),o(l),()=>{n.delete(r),n.size===0&&t&&(t(),t=null)}}return{set:a,update:i,subscribe:s}}const Y=(l=1,e=6)=>{const t=[];for(let n=0;n<l;n++){const a=Math.floor(Math.random()*e)+1;t.push(a)}return t.reduce((n,a)=>n+a,0)},Pl=()=>{const{subscribe:l,set:e,update:t}=ke([{key:"4",value:4,count:0},{key:"6",value:6,count:0},{key:"8",value:8,count:0},{key:"10",value:10,count:0},{key:"12",value:12,count:0},{key:"20",value:20,count:0}]);return{subscribe:l,set:e,roll:n=>t(a=>(a.find(i=>i.key===n).count+=1,a.find(i=>i.key===n).value=Y(1,+n),[...a]))}},bt=Pl();function ol(l){const e=l-1;return e*e*e+1}function Rl(l){return l*l*l*l*l}function Ke(l){return--l*l*l*l*l+1}function De(l,{delay:e=0,duration:t=400,easing:n=dt}={}){const a=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*a}`}}function Ue(l,{delay:e=0,duration:t=400,easing:n=ol,axis:a="y"}={}){const i=getComputedStyle(l),s=+i.opacity,o=a==="y"?"height":"width",u=parseFloat(i[o]),r=a==="y"?["top","bottom"]:["left","right"],f=r.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),c=parseFloat(i[`padding${f[0]}`]),d=parseFloat(i[`padding${f[1]}`]),m=parseFloat(i[`margin${f[0]}`]),h=parseFloat(i[`margin${f[1]}`]),b=parseFloat(i[`border${f[0]}Width`]),y=parseFloat(i[`border${f[1]}Width`]);return{delay:e,duration:t,easing:n,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*s};${o}: ${v*u}px;padding-${r[0]}: ${v*c}px;padding-${r[1]}: ${v*d}px;margin-${r[0]}: ${v*m}px;margin-${r[1]}: ${v*h}px;border-${r[0]}-width: ${v*b}px;border-${r[1]}-width: ${v*y}px;`}}function Wl(l,{delay:e=0,duration:t=400,easing:n=ol,start:a=0,opacity:i=0}={}){const s=getComputedStyle(l),o=+s.opacity,u=s.transform==="none"?"":s.transform,r=1-a,f=o*(1-i);return{delay:e,duration:t,easing:n,css:(c,d)=>`
			transform: ${u} scale(${1-r*d});
			opacity: ${o-f*d}
		`}}function Gt(l,e,t){const n=l.slice();return n[5]=e[t],n[7]=t,n}function jt(l){let e,t=l[5].value+"",n,a;return{c(){e=w("span"),n=I(t),p(e,"class","svelte-1sm778n")},m(i,s){H(i,e,s),g(e,n)},p(i,s){s&1&&t!==(t=i[5].value+"")&&U(n,t)},i(i){i&&(a||he(()=>{a=gt(e,Wl,{delay:150,duration:200,easing:Rl}),a.start()}))},o:j,d(i){i&&$(e)}}}function Nt(l){let e,t=l[5].count,n,a,i,s,o=jt(l);function u(){return l[3](l[5],l[7])}return{c(){e=w("button"),o.c(),n=S(),p(e,"ontouchstart",""),p(e,"class",a=ee(`dice d${l[5].key}${l[1]===l[7]?" green":""}`)+" svelte-1sm778n")},m(r,f){H(r,e,f),o.m(e,null),g(e,n),i||(s=oe(e,"click",u),i=!0)},p(r,f){l=r,f&1&&K(t,t=l[5].count)?(te(),k(o,1,1,j),ne(),o=jt(l),o.c(),_(o,1),o.m(e,n)):o.p(l,f),f&3&&a!==(a=ee(`dice d${l[5].key}${l[1]===l[7]?" green":""}`)+" svelte-1sm778n")&&p(e,"class",a)},d(r){r&&$(e),o.d(r),i=!1,s()}}}function Bl(l){let e,t=Q(l[0]),n=[];for(let a=0;a<t.length;a+=1)n[a]=Nt(Gt(l,t,a));return{c(){e=w("div");for(let a=0;a<n.length;a+=1)n[a].c();p(e,"class","dice-list svelte-1sm778n")},m(a,i){H(a,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(a,[i]){if(i&7){t=Q(a[0]);let s;for(s=0;s<t.length;s+=1){const o=Gt(a,t,s);n[s]?n[s].p(o,i):(n[s]=Nt(o),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},i:j,o:j,d(a){a&&$(e),pe(n,a)}}}function Il(l,e,t){let n;re(l,bt,u=>t(4,n=u));let a=n;bt.subscribe(u=>t(0,a=u));let i;const s=(u,r)=>{bt.roll(u),t(1,i=r)};return[a,i,s,(u,r)=>s(u.key,r)]}class Ll extends Z{constructor(e){super(),X(this,e,Il,Bl,K,{})}}const Yl=()=>{const{subscribe:l,set:e}=ke({background:"",description:"",firstPerk:{title:"",content:""},secondPerk:{title:"",subtitle:"",content:""},bonds:[""]});return{subscribe:l,set:e}},Xe=Yl(),Dl=()=>{const{subscribe:l,set:e,update:t}=ke("first");return{subscribe:l,set:e,change:()=>t(n=>(n=n==="second"?"first":"second",n))}},He=Dl(),Fl=()=>{const{subscribe:l,set:e,update:t}=ke("");return{subscribe:l,set:e,change:n=>t(a=>(a=n,ie(),a))}},Me=Fl(),zl=l=>{let e;be.subscribe(n=>e=n[`${l}Max`]);const t=Y(1,20);return t===1||t<=e},_t=(l,e=1)=>{let t;fe.subscribe(a=>t=a.hpMax);const n=Y(e,6);l!=="add"?n>t?(fe.setMaxHp(n),ye.addHistory(`HP has been set to ${n}.`)):ye.addHistory("HP roll result was too low, no upgrade."):(fe.setMaxHp(t+n),ye.addHistory(`${n} has been added to HP.`))},wt=(l,e)=>{const t=e||["","str","dex","wil"][Y(1,3)];let n;be.subscribe(i=>n=i[`${t}Max`]);const a=Y(3,6);if(l!=="add")n<a?(be.setMaxAbility(t,a),ye.addHistory(`${t.toUpperCase()} has been set to ${a}.`)):ye.addHistory(`${t.toUpperCase()} roll result was too low, no upgrade.`);else if(zl(t)){const i=Y(1,4);be.setMaxAbility(t,n+i),ye.addHistory(`${i} has been added to ${t.toUpperCase()}.`)}else ye.addHistory(`${t.toUpperCase()} save was failed, no upgrade.`)},Ol=()=>{const l=[],{subscribe:e,set:t,update:n}=ke([...l]);return{subscribe:e,set:t,add:a=>n(i=>{switch(a){case 1:i=[...i,{content:`Lasting Scar on ${["","Neck","Hands","Eye","Chest","Legs","Ear"][Y(1,6)]}.`}],_t("change",1);break;case 2:i=[...i,{content:"Rattling Blow. You’re disoriented and shaken. Describe how you refocus."}],_t("change",1);break;case 3:i=[...i,{content:"Walloped: You’re sent flying and land flat on your face, winded. You are deprived until you rest for a few hours, when resolve.",resolve:{action:"increaseHP",type:"add",num:1}}];break;case 4:i=[...i,{content:`Broken Limb: ${["","Leg","Leg","Arm","Arm","Rib","Skull"][Y(1,6)]}. Once mended, resolve.`,resolve:{action:"increaseHP",type:"change",num:2}}];break;case 5:i=[...i,{content:"Diseased: You’re afflicted with a gross, uncomfortable infection. When you get over it, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 6:i=[...i,{content:"Reorienting Head Wound."}],wt("change");break;case 7:i=[...i,{content:"Hamstrung: You can barely move until you get serious help and rest. After recovery, resolve.",resolve:{action:"increaseAbility",type:"change",key:"dex"}}];break;case 8:i=[...i,{content:"Deafened: You cannot hear anything until you find extraordinary aid. Regardless, resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 9:i=[...i,{content:"Re-brained: Some hidden part of your psyche is knocked loose."}],wt("change","wil");break;case 10:i=[...i,{content:"Sundered: An appendage is torn off, crippled or useless. The Warden will tell you which. Then resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 11:i=[...i,{content:"Mortal Wound: You are deprived and out of action. You die in one hour unless healed. Upon recovery, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 12:i=[...i,{content:"Doomed: Death seemed ever so close, but somehow you survived. If your next save against critical damage is a fail, you die horribly. If you pass, resolve",resolve:{action:"increaseHP",type:"change",num:3}}];break}return setTimeout(()=>ie(),0),[...i]}),addHistory:a=>setTimeout(()=>n(i=>(i=[...i,{content:a}],setTimeout(()=>ie(),0),[...i])),0),resolve:a=>n(i=>{const s=i[a].resolve;switch(s.action){case"increaseHP":_t(s.type,s.num);break;case"increaseAbility":wt(s.type,s.key);break}return i[a].resolve=null,ie(),[...i]}),reset:()=>{t([...l]),ie()}}},ye=Ol(),El=()=>{const{subscribe:l,set:e,update:t}=ke([]);return{subscribe:l,set:e,increase:(n,a)=>t(i=>{const s=i.find(o=>o.id===a);return s.stats[n]+=s.stats[n]<(s.stats[`${n}Max`]||9)?1:0,ie(),[...i]}),decrease:(n,a)=>t(i=>{const s=i.find(o=>o.id===a);return s.stats[n]-=s.stats[n]>0?1:0,ie(),[...i]}),changeItems:(n,a)=>t(i=>{const s=i.find(o=>o.id===a);return s.inventory=n,ie(),[...i]}),addCompanion:n=>t(a=>(n.id=Date.now(),[...a,n])),removeCompanion:n=>t(a=>(a=a.filter(i=>i.id!==n),[...a]))}},we=El(),Lt=()=>{let l;He.subscribe(c=>l=c);let e;Pe.subscribe(c=>e=c);let t;be.subscribe(c=>t=c);let n;fe.subscribe(c=>n=c);let a;Ce.subscribe(c=>a=c);let i;ve.subscribe(c=>i=c);let s;Re.subscribe(c=>s=c);let o;ye.subscribe(c=>o=c);let u;Xe.subscribe(c=>u=c);let r;we.subscribe(c=>r=c);let f;if(Me.subscribe(c=>f=c),l==="first")return{edition:l,name:e,abilities:{str:t.str,dex:t.dex,wil:t.wil,strMax:t.strMax,dexMax:t.dexMax,wilMax:t.wilMax},stats:{hp:n.hp,hpMax:n.hpMax,armor:n.armor,deprived:n.deprived},coins:{gp:a.gp,sp:a.sp,cp:a.cp},inventory:i,scars:o,notes:f};if(l==="second")return{edition:l,name:e,abilities:{str:t.str,dex:t.dex,wil:t.wil,strMax:t.strMax,dexMax:t.dexMax,wilMax:t.wilMax},stats:{hp:n.hp,hpMax:n.hpMax,armor:n.armor,deprived:n.deprived},coins:{gp:a.gp},inventory:i,petty:s,scars:o,biography:u,notes:f,companions:r}},ie=()=>{const l=Lt();localStorage.setItem("pc__character",JSON.stringify(l))},Gl=()=>{const{subscribe:l,set:e,update:t}=ke({str:0,dex:0,wil:0,strMax:0,dexMax:0,wilMax:0});return{subscribe:l,set:e,increase:n=>t(a=>(a[n]+=a[n]<a[`${n}Max`]?1:0,ie(),{...a})),decrease:n=>t(a=>(a[n]-=a[n]>0?1:0,ie(),{...a})),setMaxAbility:(n,a)=>t(i=>(i[`${n}Max`]=a,i[n]>i[`${n}Max`]&&(i[n]=a),ie(),{...i}))}},jl=()=>{const{subscribe:l,set:e,update:t}=ke({hp:0,hpMax:10,armor:0,deprived:!1});return{subscribe:l,set:e,increaseHp:()=>t(n=>(n.hp+=n.hp<n.hpMax?1:0,ie(),{...n})),decreaseHp:()=>t(n=>(n.hp-=n.hp>0?1:0,ie(),{...n})),setMaxHp:n=>t(a=>(a.hpMax=n,a.hp>a.hpMax&&(a.hp=n),ie(),{...a})),increaceArmor:()=>t(n=>(n.armor+=n.armor<9?1:0,ie(),{...n})),decreaseArmor:()=>t(n=>(n.armor-=n.armor>0?1:0,ie(),{...n})),changeDeprived:()=>t(n=>(n.deprived=!n.deprived,ie(),{...n}))}},Nl=()=>{const{subscribe:l,set:e,update:t}=ke({gp:"0",sp:"0",cp:"0"});return{subscribe:l,set:e,change:(n,a)=>t(i=>(i[n]=a,ie(),{...i}))}},Vl=()=>{const{subscribe:l,set:e,update:t}=ke([{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]);return{subscribe:l,set:e,change:n=>t(a=>(a=n,ie(),[...a]))}},ql=()=>{const{subscribe:l,set:e,update:t}=ke([{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]);return{subscribe:l,set:e,change:n=>t(a=>(a=n,ie(),[...a]))}},Pe=ke(""),be=Gl(),fe=jl(),Ce=Nl(),ve=Vl(),Re=ql();function xl(l){let e,t;const n=l[11].default,a=Tt(n,l,l[10],null);return{c(){e=w("p"),a&&a.c(),p(e,"class","svelte-fxtc5y")},m(i,s){H(i,e,s),a&&a.m(e,null),t=!0},p(i,s){a&&a.p&&(!t||s&1024)&&Mt(a,n,i,i[10],t?Ct(n,i[10],s,null):At(i[10]),null)},i(i){t||(_(a,i),t=!0)},o(i){k(a,i),t=!1},d(i){i&&$(e),a&&a.d(i)}}}function Jl(l){let e,t;return{c(){e=w("img"),p(e,"class","image svelte-fxtc5y"),vt(e.src,t=l[5])||p(e,"src",t),p(e,"alt",l[6])},m(n,a){H(n,e,a)},p(n,a){a&32&&!vt(e.src,t=n[5])&&p(e,"src",t),a&64&&p(e,"alt",n[6])},i:j,o:j,d(n){n&&$(e)}}}function Kl(l){let e,t,n,a,i,s,o,u;he(l[12]);const r=[Jl,xl],f=[];function c(d,m){return d[5]?0:1}return t=c(l),n=f[t]=r[t](l),{c(){e=w("button"),n.c(),p(e,"ontouchstart",""),p(e,"class",a=ee(`button${l[4]?" borderless":""}`)+" svelte-fxtc5y"),e.disabled=l[3],p(e,"style",i=`
    min-width: ${l[8]}px;
    min-height: ${l[1]}px;
    height: ${l[1]}px;
    border-radius: ${l[8]/2}px;
    padding: ${l[0]}px;
    font-size: ${l[2]};
    line-height: ${l[2]};
  `)},m(d,m){H(d,e,m),f[t].m(e,null),s=!0,o||(u=[oe(window,"resize",l[12]),oe(e,"click",l[13])],o=!0)},p(d,[m]){let h=t;t=c(d),t===h?f[t].p(d,m):(te(),k(f[h],1,1,()=>{f[h]=null}),ne(),n=f[t],n?n.p(d,m):(n=f[t]=r[t](d),n.c()),_(n,1),n.m(e,null)),(!s||m&16&&a!==(a=ee(`button${d[4]?" borderless":""}`)+" svelte-fxtc5y"))&&p(e,"class",a),(!s||m&8)&&(e.disabled=d[3]),(!s||m&263&&i!==(i=`
    min-width: ${d[8]}px;
    min-height: ${d[1]}px;
    height: ${d[1]}px;
    border-radius: ${d[8]/2}px;
    padding: ${d[0]}px;
    font-size: ${d[2]};
    line-height: ${d[2]};
  `))&&p(e,"style",i)},i(d){s||(_(n),s=!0)},o(d){k(n),s=!1},d(d){d&&$(e),f[t].d(),o=!1,ge(u)}}}function Ul(l,e,t){let n,{$$slots:a={},$$scope:i}=e,{height:s=40}=e,{padding:o=0}=e,{fontSize:u="1.6rem"}=e,{disabled:r=!1}=e,{borderless:f=!1}=e,{image:c=void 0}=e,{alt:d=void 0}=e;const m=me();let h;function b(){t(7,h=window.innerWidth)}const y=()=>m("click");return l.$$set=v=>{"height"in v&&t(1,s=v.height),"padding"in v&&t(0,o=v.padding),"fontSize"in v&&t(2,u=v.fontSize),"disabled"in v&&t(3,r=v.disabled),"borderless"in v&&t(4,f=v.borderless),"image"in v&&t(5,c=v.image),"alt"in v&&t(6,d=v.alt),"$$scope"in v&&t(10,i=v.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(0,o||(o=0)),l.$$.dirty&130&&t(8,n=h>374?s:s*.75)},[o,s,u,r,f,c,d,h,n,m,i,a,b,y]}class se extends Z{constructor(e){super(),X(this,e,Ul,Kl,K,{height:1,padding:0,fontSize:2,disabled:3,borderless:4,image:5,alt:6})}}const Ql=(l="character")=>{const e=Lt(),t=`${e.name}.json`,n=JSON.stringify(e),a=document.createElement("a");a.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(n)),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},rl=l=>{const e=t=>{l&&!l.contains(t.target)&&!t.defaultPrevented&&l.dispatchEvent(new CustomEvent("click_outside",l))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}};function Xl(l,e){return e?(document.getElementById(e).appendChild(l),{destroy(){l.remove()}}):void 0}function Vt(l){let e,t,n,a,i,s,o,u,r,f,c,d,m,h=l[1]&&qt(l);const b=l[6].default,y=Tt(b,l,l[11],null),v=[ea,Zl],B=[];function O(C,D){return C[2]?1:0}return s=O(l),o=B[s]=v[s](l),{c(){e=w("div"),h&&h.c(),t=S(),n=w("span"),y&&y.c(),a=S(),i=w("div"),o.c(),p(n,"class","content svelte-o0uayc"),p(i,"class",u=ee(`controls${l[2]?" submission":""}`)+" svelte-o0uayc"),p(e,"class","modal svelte-o0uayc")},m(C,D){H(C,e,D),h&&h.m(e,null),g(e,t),g(e,n),y&&y.m(n,null),g(e,a),g(e,i),B[s].m(i,null),c=!0,d||(m=[kt(r=Xl.call(null,e,l[4])),kt(rl.call(null,e)),oe(e,"click_outside",l[10])],d=!0)},p(C,D){C[1]?h?h.p(C,D):(h=qt(C),h.c(),h.m(e,t)):h&&(h.d(1),h=null),y&&y.p&&(!c||D&2048)&&Mt(y,b,C,C[11],c?Ct(b,C[11],D,null):At(C[11]),null);let x=s;s=O(C),s===x?B[s].p(C,D):(te(),k(B[x],1,1,()=>{B[x]=null}),ne(),o=B[s],o?o.p(C,D):(o=B[s]=v[s](C),o.c()),_(o,1),o.m(i,null)),(!c||D&4&&u!==(u=ee(`controls${C[2]?" submission":""}`)+" svelte-o0uayc"))&&p(i,"class",u),r&&Ae(r.update)&&D&16&&r.update.call(null,C[4])},i(C){c||(_(y,C),_(o),C&&he(()=>{c&&(f||(f=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!0)),f.run(1))}),c=!0)},o(C){k(y,C),k(o),C&&(f||(f=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!1)),f.run(0)),c=!1},d(C){C&&$(e),h&&h.d(),y&&y.d(C),B[s].d(),C&&f&&f.end(),d=!1,ge(m)}}}function qt(l){let e,t;return{c(){e=w("h2"),t=I(l[1]),p(e,"class","title svelte-o0uayc")},m(n,a){H(n,e,a),g(e,t)},p(n,a){a&2&&U(t,n[1])},d(n){n&&$(e)}}}function Zl(l){let e,t;return e=new se({props:{$$slots:{default:[ta]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&2048&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ea(l){let e,t,n,a;return e=new se({props:{$$slots:{default:[na]},$$scope:{ctx:l}}}),e.$on("click",l[7]),n=new se({props:{disabled:l[3],$$slots:{default:[la]},$$scope:{ctx:l}}}),n.$on("click",l[8]),{c(){P(e.$$.fragment),t=S(),P(n.$$.fragment)},m(i,s){M(e,i,s),H(i,t,s),M(n,i,s),a=!0},p(i,s){const o={};s&2048&&(o.$$scope={dirty:s,ctx:i}),e.$set(o);const u={};s&8&&(u.disabled=i[3]),s&2048&&(u.$$scope={dirty:s,ctx:i}),n.$set(u)},i(i){a||(_(e.$$.fragment,i),_(n.$$.fragment,i),a=!0)},o(i){k(e.$$.fragment,i),k(n.$$.fragment,i),a=!1},d(i){i&&$(t),A(e,i),A(n,i)}}}function ta(l){let e;return{c(){e=I("OK")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function na(l){let e;return{c(){e=I("Cancel")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function la(l){let e;return{c(){e=I("OK")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function aa(l){let e,t,n=l[0]&&Vt(l);return{c(){n&&n.c(),e=ht()},m(a,i){n&&n.m(a,i),H(a,e,i),t=!0},p(a,[i]){a[0]?n?(n.p(a,i),i&1&&_(n,1)):(n=Vt(a),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(te(),k(n,1,1,()=>{n=null}),ne())},i(a){t||(_(n),t=!0)},o(a){k(n),t=!1},d(a){a&&$(e),n&&n.d(a)}}}function ia(l,e,t){let{$$slots:n={},$$scope:a}=e,{isShown:i}=e,{title:s=void 0}=e,{submission:o=!1}=e,{disableOk:u=!1}=e,{teleportId:r=null}=e;const f=me(),c=()=>f("cancel"),d=()=>f("ok"),m=()=>f("cancel"),h=()=>f("cancel");return l.$$set=b=>{"isShown"in b&&t(0,i=b.isShown),"title"in b&&t(1,s=b.title),"submission"in b&&t(2,o=b.submission),"disableOk"in b&&t(3,u=b.disableOk),"teleportId"in b&&t(4,r=b.teleportId),"$$scope"in b&&t(11,a=b.$$scope)},[i,s,o,u,r,f,n,c,d,m,h,a]}class Se extends Z{constructor(e){super(),X(this,e,ia,aa,K,{isShown:0,title:1,submission:2,disableOk:3,teleportId:4})}}function xt(l){let e,t,n;return{c(){e=w("span"),t=I(l[0]),p(e,"class",n=ee(`title ${l[5]}`)+" svelte-62qlw9")},m(a,i){H(a,e,i),g(e,t)},p(a,i){i&1&&U(t,a[0]),i&32&&n!==(n=ee(`title ${a[5]}`)+" svelte-62qlw9")&&p(e,"class",n)},d(a){a&&$(e)}}}function sa(l){let e;return{c(){e=I("−")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Jt(l){let e,t;return{c(){e=I("/ "),t=I(l[2])},m(n,a){H(n,e,a),H(n,t,a)},p(n,a){a&4&&U(t,n[2])},d(n){n&&($(e),$(t))}}}function oa(l){let e;return{c(){e=I("+")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ra(l){let e,t,n,a,i,s,o,u,r,f,c,d,m,h=l[0]&&xt(l);a=new se({props:{disabled:l[1]===l[3],height:l[5]==="big"?40:30,$$slots:{default:[sa]},$$scope:{ctx:l}}}),a.$on("click",l[7]);let b=!l[4]&&Jt(l);return c=new se({props:{disabled:l[1]===l[2],height:l[5]==="big"?40:30,$$slots:{default:[oa]},$$scope:{ctx:l}}}),c.$on("click",l[8]),{c(){e=w("div"),h&&h.c(),t=S(),n=w("div"),P(a.$$.fragment),i=S(),s=w("div"),o=I(l[1]),u=S(),b&&b.c(),f=S(),P(c.$$.fragment),p(s,"class",r=ee(`current ${l[5]}`)+" svelte-62qlw9"),p(n,"class","controls svelte-62qlw9"),p(n,"style",d=`max-width: ${l[5]==="big"?"300":"180"}px;`),p(e,"class","ability svelte-62qlw9")},m(y,v){H(y,e,v),h&&h.m(e,null),g(e,t),g(e,n),M(a,n,null),g(n,i),g(n,s),g(s,o),g(s,u),b&&b.m(s,null),g(n,f),M(c,n,null),m=!0},p(y,[v]){y[0]?h?h.p(y,v):(h=xt(y),h.c(),h.m(e,t)):h&&(h.d(1),h=null);const B={};v&10&&(B.disabled=y[1]===y[3]),v&32&&(B.height=y[5]==="big"?40:30),v&512&&(B.$$scope={dirty:v,ctx:y}),a.$set(B),(!m||v&2)&&U(o,y[1]),y[4]?b&&(b.d(1),b=null):b?b.p(y,v):(b=Jt(y),b.c(),b.m(s,null)),(!m||v&32&&r!==(r=ee(`current ${y[5]}`)+" svelte-62qlw9"))&&p(s,"class",r);const O={};v&6&&(O.disabled=y[1]===y[2]),v&32&&(O.height=y[5]==="big"?40:30),v&512&&(O.$$scope={dirty:v,ctx:y}),c.$set(O),(!m||v&32&&d!==(d=`max-width: ${y[5]==="big"?"300":"180"}px;`))&&p(n,"style",d)},i(y){m||(_(a.$$.fragment,y),_(c.$$.fragment,y),m=!0)},o(y){k(a.$$.fragment,y),k(c.$$.fragment,y),m=!1},d(y){y&&$(e),h&&h.d(),A(a),b&&b.d(),A(c)}}}function ua(l,e,t){let{title:n=""}=e,{value:a=0}=e,{maxValue:i=0}=e,{minValue:s=0}=e,{hideMaxValue:o=!1}=e,{size:u="big"}=e;const r=me(),f=()=>r("decrease"),c=()=>r("increase");return l.$$set=d=>{"title"in d&&t(0,n=d.title),"value"in d&&t(1,a=d.value),"maxValue"in d&&t(2,i=d.maxValue),"minValue"in d&&t(3,s=d.minValue),"hideMaxValue"in d&&t(4,o=d.hideMaxValue),"size"in d&&t(5,u=d.size)},[n,a,i,s,o,u,r,f,c]}class We extends Z{constructor(e){super(),X(this,e,ua,ra,K,{title:0,value:1,maxValue:2,minValue:3,hideMaxValue:4,size:5})}}function Kt(l,e,t){const n=l.slice();return n[8]=e[t],n}function Ut(l){let e,t=l[8]+"",n,a,i,s,o;function u(){return l[4](l[8])}return{c(){e=w("button"),n=I(t),a=S(),p(e,"ontouchstart",""),p(e,"class",i=ee(`item${l[0]===l[8]?" selected":""}`)+" svelte-r3zxjg")},m(r,f){H(r,e,f),g(e,n),g(e,a),s||(o=oe(e,"click",u),s=!0)},p(r,f){l=r,f&1&&i!==(i=ee(`item${l[0]===l[8]?" selected":""}`)+" svelte-r3zxjg")&&p(e,"class",i)},d(r){r&&$(e),s=!1,o()}}}function fa(l){let e,t,n,a,i,s,o,u,r,f=Q(l[2]),c=[];for(let d=0;d<f.length;d+=1)c[d]=Ut(Kt(l,f,d));return u=new We({props:{value:l[1],maxValue:8,minValue:-8,hideMaxValue:!0}}),u.$on("decrease",l[5]),u.$on("increase",l[6]),{c(){e=w("div"),t=w("span"),t.textContent="Choose stat:",n=S(),a=w("div");for(let d=0;d<c.length;d+=1)c[d].c();i=S(),s=w("span"),s.textContent="Change maximum value for:",o=S(),P(u.$$.fragment),p(a,"class","stats svelte-r3zxjg"),p(e,"class","change svelte-r3zxjg")},m(d,m){H(d,e,m),g(e,t),g(e,n),g(e,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(a,null);g(e,i),g(e,s),g(e,o),M(u,e,null),r=!0},p(d,[m]){if(m&13){f=Q(d[2]);let b;for(b=0;b<f.length;b+=1){const y=Kt(d,f,b);c[b]?c[b].p(y,m):(c[b]=Ut(y),c[b].c(),c[b].m(a,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=f.length}const h={};m&2&&(h.value=d[1]),u.$set(h)},i(d){r||(_(u.$$.fragment,d),r=!0)},o(d){k(u.$$.fragment,d),r=!1},d(d){d&&$(e),pe(c,d),A(u)}}}function ca(l,e,t){const n=me();let{stat:a="str"}=e,{value:i=0}=e;const s=["str","dex","wil","hp"],o=c=>t(0,a=c),u=c=>o(c),r=()=>i>-8?t(1,i-=1):t(1,i),f=()=>i<8?t(1,i+=1):t(1,i);return l.$$set=c=>{"stat"in c&&t(0,a=c.stat),"value"in c&&t(1,i=c.value)},l.$$.update=()=>{l.$$.dirty&3&&n("change",{stat:a,value:i})},[a,i,s,o,u,r,f]}class da extends Z{constructor(e){super(),X(this,e,ca,fa,K,{stat:0,value:1})}}function Qt(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function Xt(l){let e;return{c(){e=w("div"),e.textContent="You have no scars",p(e,"class","item svelte-10tgczs")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ha(l){let e,t;return e=new se({props:{height:30,fontSize:"1rem",disabled:!0,$$slots:{default:[pa]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ga(l){let e,t;function n(){return l[13](l[33])}return e=new se({props:{height:30,fontSize:"1rem",$$slots:{default:[ma]},$$scope:{ctx:l}}}),e.$on("click",n),{c(){P(e.$$.fragment)},m(a,i){M(e,a,i),t=!0},p(a,i){l=a;const s={};i[1]&8&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){A(e,a)}}}function pa(l){let e;return{c(){e=I("Resolved")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ma(l){let e;return{c(){e=I("Resolve")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Zt(l){let e,t=l[31].content+"",n,a,i,s,o,u;const r=[ga,ha],f=[];function c(d,m){return d[31].resolve?0:1}return i=c(l),s=f[i]=r[i](l),{c(){e=w("div"),n=I(t),a=S(),s.c(),o=S(),p(e,"class","item resolvable svelte-10tgczs")},m(d,m){H(d,e,m),g(e,n),g(e,a),f[i].m(e,null),g(e,o),u=!0},p(d,m){(!u||m[0]&128)&&t!==(t=d[31].content+"")&&U(n,t);let h=i;i=c(d),i!==h&&(te(),k(f[h],1,1,()=>{f[h]=null}),ne(),s=f[i],s||(s=f[i]=r[i](d),s.c()),_(s,1),s.m(e,o))},i(d){u||(_(s),u=!0)},o(d){k(s),u=!1},d(d){d&&$(e),f[i].d()}}}function ya(l){let e;return{c(){e=I("Add scar")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ba(l){let e;return{c(){e=I("Edit stat")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function _a(l){let e;return{c(){e=I("Download character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function wa(l){let e;return{c(){e=I("Delete character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function va(l){let e;return{c(){e=I(`Adding a scar is an irreversible action that enables you to advance your
    character. Have you consulted with the Warden to confirm that you can
    acquire a scar?`)},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ka(l){let e;return{c(){e=I(`Manually changing stat is a specific action. Have you consulted with the
    Warden to confirm that you can change stat?`)},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function $a(l){let e,t,n;return t=new We({props:{value:l[5],maxValue:12,hideMaxValue:!0}}),t.$on("decrease",l[22]),t.$on("increase",l[23]),{c(){e=I(`How many damage points was taken?
    `),P(t.$$.fragment)},m(a,i){H(a,e,i),M(t,a,i),n=!0},p(a,i){const s={};i[0]&32&&(s.value=a[5]),t.$set(s)},i(a){n||(_(t.$$.fragment,a),n=!0)},o(a){k(t.$$.fragment,a),n=!1},d(a){a&&$(e),A(t,a)}}}function Ha(l){let e,t;return e=new da({}),e.$on("change",l[26]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Sa(l){let e;return{c(){e=I("Do you really want to delete this character?")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Ta(l){let e,t,n,a,i,s,o,u,r,f,c,d,m,h,b,y,v,B,O,C,D,x,z,J,R,G,E=l[7].length===0&&Xt(),V=Q(l[7]),F=[];for(let L=0;L<V.length;L+=1)F[L]=Zt(Qt(l,V,L));const le=L=>k(F[L],1,1,()=>{F[L]=null});return r=new se({props:{padding:4,disabled:l[6].hp>0,$$slots:{default:[ya]},$$scope:{ctx:l}}}),r.$on("click",l[14]),c=new se({props:{padding:4,$$slots:{default:[ba]},$$scope:{ctx:l}}}),c.$on("click",l[15]),m=new se({props:{padding:4,$$slots:{default:[_a]},$$scope:{ctx:l}}}),m.$on("click",l[16]),b=new se({props:{padding:4,$$slots:{default:[wa]},$$scope:{ctx:l}}}),b.$on("click",l[17]),v=new Se({props:{isShown:l[1],$$slots:{default:[va]},$$scope:{ctx:l}}}),v.$on("cancel",l[18]),v.$on("ok",l[19]),O=new Se({props:{isShown:l[3],$$slots:{default:[ka]},$$scope:{ctx:l}}}),O.$on("cancel",l[20]),O.$on("ok",l[21]),D=new Se({props:{isShown:l[2],disableOk:l[5]===0,$$slots:{default:[$a]},$$scope:{ctx:l}}}),D.$on("cancel",l[24]),D.$on("ok",l[25]),z=new Se({props:{isShown:l[4],$$slots:{default:[Ha]},$$scope:{ctx:l}}}),z.$on("cancel",l[10]),z.$on("ok",l[11]),R=new Se({props:{isShown:l[0],$$slots:{default:[Sa]},$$scope:{ctx:l}}}),R.$on("cancel",l[27]),R.$on("ok",l[28]),{c(){e=w("div"),t=w("span"),t.textContent="Scars history:",n=S(),a=w("div"),i=w("div"),E&&E.c(),s=S();for(let L=0;L<F.length;L+=1)F[L].c();o=S(),u=w("div"),P(r.$$.fragment),f=S(),P(c.$$.fragment),d=S(),P(m.$$.fragment),h=S(),P(b.$$.fragment),y=S(),P(v.$$.fragment),B=S(),P(O.$$.fragment),C=S(),P(D.$$.fragment),x=S(),P(z.$$.fragment),J=S(),P(R.$$.fragment),p(t,"class","title svelte-10tgczs"),p(i,"class","wrap svelte-10tgczs"),p(a,"class","scars svelte-10tgczs"),p(u,"class","change svelte-10tgczs"),p(e,"class","menu svelte-10tgczs")},m(L,W){H(L,e,W),g(e,t),g(e,n),g(e,a),g(a,i),E&&E.m(i,null),g(i,s);for(let q=0;q<F.length;q+=1)F[q]&&F[q].m(i,null);g(e,o),g(e,u),M(r,u,null),g(u,f),M(c,u,null),g(e,d),M(m,e,null),g(e,h),M(b,e,null),g(e,y),M(v,e,null),g(e,B),M(O,e,null),g(e,C),M(D,e,null),g(e,x),M(z,e,null),g(e,J),M(R,e,null),G=!0},p(L,W){if(L[7].length===0?E||(E=Xt(),E.c(),E.m(i,s)):E&&(E.d(1),E=null),W[0]&128){V=Q(L[7]);let ue;for(ue=0;ue<V.length;ue+=1){const Ft=Qt(L,V,ue);F[ue]?(F[ue].p(Ft,W),_(F[ue],1)):(F[ue]=Zt(Ft),F[ue].c(),_(F[ue],1),F[ue].m(i,null))}for(te(),ue=V.length;ue<F.length;ue+=1)le(ue);ne()}const q={};W[0]&64&&(q.disabled=L[6].hp>0),W[1]&8&&(q.$$scope={dirty:W,ctx:L}),r.$set(q);const T={};W[1]&8&&(T.$$scope={dirty:W,ctx:L}),c.$set(T);const ae={};W[1]&8&&(ae.$$scope={dirty:W,ctx:L}),m.$set(ae);const _e={};W[1]&8&&(_e.$$scope={dirty:W,ctx:L}),b.$set(_e);const Le={};W[0]&2&&(Le.isShown=L[1]),W[1]&8&&(Le.$$scope={dirty:W,ctx:L}),v.$set(Le);const ze={};W[0]&8&&(ze.isShown=L[3]),W[1]&8&&(ze.$$scope={dirty:W,ctx:L}),O.$set(ze);const Be={};W[0]&4&&(Be.isShown=L[2]),W[0]&32&&(Be.disableOk=L[5]===0),W[0]&32|W[1]&8&&(Be.$$scope={dirty:W,ctx:L}),D.$set(Be);const Oe={};W[0]&16&&(Oe.isShown=L[4]),W[1]&8&&(Oe.$$scope={dirty:W,ctx:L}),z.$set(Oe);const ce={};W[0]&1&&(ce.isShown=L[0]),W[1]&8&&(ce.$$scope={dirty:W,ctx:L}),R.$set(ce)},i(L){if(!G){for(let W=0;W<V.length;W+=1)_(F[W]);_(r.$$.fragment,L),_(c.$$.fragment,L),_(m.$$.fragment,L),_(b.$$.fragment,L),_(v.$$.fragment,L),_(O.$$.fragment,L),_(D.$$.fragment,L),_(z.$$.fragment,L),_(R.$$.fragment,L),G=!0}},o(L){F=F.filter(Boolean);for(let W=0;W<F.length;W+=1)k(F[W]);k(r.$$.fragment,L),k(c.$$.fragment,L),k(m.$$.fragment,L),k(b.$$.fragment,L),k(v.$$.fragment,L),k(O.$$.fragment,L),k(D.$$.fragment,L),k(z.$$.fragment,L),k(R.$$.fragment,L),G=!1},d(L){L&&$(e),E&&E.d(),pe(F,L),A(r),A(c),A(m),A(b),A(v),A(O),A(D),A(z),A(R)}}}function Ca(l,e,t){let n,a,i;re(l,be,T=>t(30,n=T)),re(l,fe,T=>t(6,a=T)),re(l,ye,T=>t(7,i=T));let s=!1,o=!1,u=!1,r=!1,f=!1,c=0,d={stat:"str",value:0};const m=()=>{ye.add(c),t(2,u=!1),t(5,c=0)},h=T=>{d=T},b=()=>{d={stat:"str",value:0},t(4,f=!1)},y=()=>{if(d.stat==="hp"){const T=a.hpMax+d.value;fe.setMaxHp(T)}else{const T=n[`${d.stat}Max`]+d.value;be.setMaxAbility(d.stat,T)}d={stat:"str",value:0},t(4,f=!1)},v=()=>{Pe.set(""),ye.reset(),localStorage.removeItem("pc__character")};return[s,o,u,r,f,c,a,i,m,h,b,y,v,T=>ye.resolve(T),()=>t(1,o=!0),()=>t(3,r=!0),()=>Ql(),()=>t(0,s=!0),()=>t(1,o=!1),()=>{t(2,u=!0),t(1,o=!1)},()=>t(3,r=!1),()=>{t(4,f=!0),t(3,r=!1)},()=>c>0?t(5,c-=1):t(5,c),()=>c<12?t(5,c+=1):t(5,c),()=>{t(2,u=!1),t(5,c=0)},()=>m(),T=>h(T.detail),()=>t(0,s=!1),()=>v()]}class Ma extends Z{constructor(e){super(),X(this,e,Ca,Ta,K,{},null,[-1,-1])}}function en(l,e,t){const n=l.slice();return n[4]=e[t],n}function tn(l){let e,t;function n(){return l[2](l[4])}function a(){return l[3](l[4])}return e=new We({props:{title:l[4],value:l[0][l[4]],maxValue:l[0][`${l[4]}Max`]}}),e.$on("decrease",n),e.$on("increase",a),{c(){P(e.$$.fragment)},m(i,s){M(e,i,s),t=!0},p(i,s){l=i;const o={};s&1&&(o.value=l[0][l[4]]),s&1&&(o.maxValue=l[0][`${l[4]}Max`]),e.$set(o)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function Aa(l){let e,t,n=Q(l[1]),a=[];for(let s=0;s<n.length;s+=1)a[s]=tn(en(l,n,s));const i=s=>k(a[s],1,1,()=>{a[s]=null});return{c(){e=w("div");for(let s=0;s<a.length;s+=1)a[s].c();p(e,"class","abilities svelte-pcinmc")},m(s,o){H(s,e,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(s,[o]){if(o&3){n=Q(s[1]);let u;for(u=0;u<n.length;u+=1){const r=en(s,n,u);a[u]?(a[u].p(r,o),_(a[u],1)):(a[u]=tn(r),a[u].c(),_(a[u],1),a[u].m(e,null))}for(te(),u=n.length;u<a.length;u+=1)i(u);ne()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)_(a[o]);t=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)k(a[o]);t=!1},d(s){s&&$(e),pe(a,s)}}}function Pa(l,e,t){let n;return re(l,be,o=>t(0,n=o)),[n,["str","dex","wil"],o=>be.decrease(o),o=>be.increase(o)]}class Ra extends Z{constructor(e){super(),X(this,e,Pa,Aa,K,{})}}function nn(l){let e,t;return{c(){e=w("span"),t=I(l[0]),p(e,"class","label svelte-1prugxz")},m(n,a){H(n,e,a),g(e,t)},p(n,a){a&1&&U(t,n[0])},d(n){n&&$(e)}}}function Wa(l){let e,t,n,a,i,s,o,u;he(l[7]);let r=l[0]&&nn(l);return{c(){e=w("label"),t=w("input"),n=S(),a=w("span"),s=S(),r&&r.c(),p(t,"type","checkbox"),t.checked=l[1],t.disabled=l[2],p(t,"class","svelte-1prugxz"),p(a,"class","checkmark svelte-1prugxz"),p(a,"style",i=`width: ${l[4]}px;height: ${l[4]}px`),p(e,"ontouchstart",""),p(e,"class","checkbox svelte-1prugxz")},m(f,c){H(f,e,c),g(e,t),g(e,n),g(e,a),g(e,s),r&&r.m(e,null),o||(u=[oe(window,"resize",l[7]),oe(t,"change",l[5])],o=!0)},p(f,[c]){c&2&&(t.checked=f[1]),c&4&&(t.disabled=f[2]),c&16&&i!==(i=`width: ${f[4]}px;height: ${f[4]}px`)&&p(a,"style",i),f[0]?r?r.p(f,c):(r=nn(f),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:j,o:j,d(f){f&&$(e),r&&r.d(),o=!1,ge(u)}}}function Ba(l,e,t){let n,{label:a=null}=e,{size:i=0}=e,{checked:s=!1}=e,{disabled:o=!1}=e;const u=me();let r;const f=()=>u("change");function c(){t(3,r=window.innerWidth)}return l.$$set=d=>{"label"in d&&t(0,a=d.label),"size"in d&&t(6,i=d.size),"checked"in d&&t(1,s=d.checked),"disabled"in d&&t(2,o=d.disabled)},l.$$.update=()=>{l.$$.dirty&72&&t(4,n=r>374?i:i*.75)},[a,s,o,r,n,f,i,c]}class Qe extends Z{constructor(e){super(),X(this,e,Ba,Wa,K,{label:0,size:6,checked:1,disabled:2})}}function Ia(l){let e,t,n,a,i;return{c(){e=w("input"),p(e,"class","input svelte-teqffi"),p(e,"placeholder",l[1]),p(e,"inputmode",t=l[3]?"decimal":"text"),p(e,"style",n=`
    border-bottom: ${l[2]?"1px solid var(--main)":"none"};
    ${l[4]&&"padding-right: "+l[4]}
  `)},m(s,o){H(s,e,o),st(e,l[0]),a||(i=[oe(e,"input",l[6]),oe(e,"input",l[7])],a=!0)},p(s,[o]){o&2&&p(e,"placeholder",s[1]),o&8&&t!==(t=s[3]?"decimal":"text")&&p(e,"inputmode",t),o&20&&n!==(n=`
    border-bottom: ${s[2]?"1px solid var(--main)":"none"};
    ${s[4]&&"padding-right: "+s[4]}
  `)&&p(e,"style",n),o&1&&e.value!==s[0]&&st(e,s[0])},i:j,o:j,d(s){s&&$(e),a=!1,ge(i)}}}function La(l,e,t){let{value:n="0"}=e,{placeholder:a=""}=e,{border:i=!0}=e,{numbers:s=!1}=e,{paddingRight:o=""}=e;const u=me();function r(){n=this.value,t(0,n),t(3,s)}const f=()=>u("input",n);return l.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,a=c.placeholder),"border"in c&&t(2,i=c.border),"numbers"in c&&t(3,s=c.numbers),"paddingRight"in c&&t(4,o=c.paddingRight)},l.$$.update=()=>{l.$$.dirty&9&&t(0,n=s?n.replace(/[^0-9]/g,""):n)},[n,a,i,s,o,u,r,f]}class Fe extends Z{constructor(e){super(),X(this,e,La,Ia,K,{value:0,placeholder:1,border:2,numbers:3,paddingRight:4})}}function ln(l,e,t){const n=l.slice();return n[5]=e[t],n[6]=e,n[7]=t,n}function an(l){let e,t,n,a,i,s,o,u;function r(){return l[1](l[5],l[6],l[7])}t=new Qe({props:{size:20,checked:l[5].inHand}}),t.$on("change",r);function f(...d){return l[2](l[5],l[6],l[7],...d)}a=new Fe({props:{placeholder:"Item",value:l[5].title,border:!1}}),a.$on("input",f);function c(){return l[3](l[5],l[6],l[7])}return s=new Qe({props:{size:20,checked:l[5].fatigue}}),s.$on("change",c),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),P(s.$$.fragment),o=S(),p(e,"class","item svelte-1volka6")},m(d,m){H(d,e,m),M(t,e,null),g(e,n),M(a,e,null),g(e,i),M(s,e,null),g(e,o),u=!0},p(d,m){l=d;const h={};m&1&&(h.checked=l[5].inHand),t.$set(h);const b={};m&1&&(b.value=l[5].title),a.$set(b);const y={};m&1&&(y.checked=l[5].fatigue),s.$set(y)},i(d){u||(_(t.$$.fragment,d),_(a.$$.fragment,d),_(s.$$.fragment,d),u=!0)},o(d){k(t.$$.fragment,d),k(a.$$.fragment,d),k(s.$$.fragment,d),u=!1},d(d){d&&$(e),A(t),A(a),A(s)}}}function Ya(l){let e,t,n,a,i,s=Q(l[0]),o=[];for(let r=0;r<s.length;r+=1)o[r]=an(ln(l,s,r));const u=r=>k(o[r],1,1,()=>{o[r]=null});return{c(){e=w("div"),t=w("div"),t.innerHTML='<span class="info svelte-1volka6">Hand</span> <span class="info svelte-1volka6">Fatigue</span>',n=S(),a=w("div");for(let r=0;r<o.length;r+=1)o[r].c();p(t,"class","heading svelte-1volka6"),p(a,"class","list svelte-1volka6"),p(e,"class","inventory svelte-1volka6")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,null);i=!0},p(r,[f]){if(f&1){s=Q(r[0]);let c;for(c=0;c<s.length;c+=1){const d=ln(r,s,c);o[c]?(o[c].p(d,f),_(o[c],1)):(o[c]=an(d),o[c].c(),_(o[c],1),o[c].m(a,null))}for(te(),c=s.length;c<o.length;c+=1)u(c);ne()}},i(r){if(!i){for(let f=0;f<s.length;f+=1)_(o[f]);i=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)k(o[f]);i=!1},d(r){r&&$(e),pe(o,r)}}}function Da(l,e,t){let n;re(l,ve,u=>t(4,n=u));const a=n;return[a,(u,r,f)=>{t(0,r[f].inHand=!u.inHand,a),ve.change(a)},(u,r,f,c)=>{t(0,r[f].title=c.detail,a),ve.change(a)},(u,r,f)=>{t(0,r[f].fatigue=!u.fatigue,a),ve.change(a)}]}class Fa extends Z{constructor(e){super(),X(this,e,Da,Ya,K,{})}}function sn(l,e,t){const n=l.slice();return n[4]=e[t],n}function on(l){let e,t,n=l[4]+"",a,i,s,o,u,r,f;function c(...d){return l[3](l[4],...d)}return u=new Fe({props:{value:l[1][l[4]],numbers:!0}}),u.$on("input",c),{c(){e=w("div"),t=w("span"),a=I(n),i=I(":"),o=S(),P(u.$$.fragment),r=S(),p(t,"class",s=ee(`currency${l[0]?"":" golden"}`)+" svelte-1wcssej"),p(e,"class","item svelte-1wcssej")},m(d,m){H(d,e,m),g(e,t),g(t,a),g(t,i),g(e,o),M(u,e,null),g(e,r),f=!0},p(d,m){l=d,(!f||m&1&&s!==(s=ee(`currency${l[0]?"":" golden"}`)+" svelte-1wcssej"))&&p(t,"class",s);const h={};m&2&&(h.value=l[1][l[4]]),u.$set(h)},i(d){f||(_(u.$$.fragment,d),f=!0)},o(d){k(u.$$.fragment,d),f=!1},d(d){d&&$(e),A(u)}}}function za(l){let e,t,n=Q(l[2]),a=[];for(let s=0;s<n.length;s+=1)a[s]=on(sn(l,n,s));const i=s=>k(a[s],1,1,()=>{a[s]=null});return{c(){e=w("div");for(let s=0;s<a.length;s+=1)a[s].c();p(e,"class","coins svelte-1wcssej")},m(s,o){H(s,e,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(s,[o]){if(o&7){n=Q(s[2]);let u;for(u=0;u<n.length;u+=1){const r=sn(s,n,u);a[u]?(a[u].p(r,o),_(a[u],1)):(a[u]=on(r),a[u].c(),_(a[u],1),a[u].m(e,null))}for(te(),u=n.length;u<a.length;u+=1)i(u);ne()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)_(a[o]);t=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)k(a[o]);t=!1},d(s){s&&$(e),pe(a,s)}}}function Oa(l,e,t){let n;re(l,Ce,o=>t(1,n=o));let{allCoins:a=!1}=e;const i=a?["gp","sp","cp"]:["gp"],s=(o,u)=>{Ce[o]=u.detail,Ce.change(o,u.detail)};return l.$$set=o=>{"allCoins"in o&&t(0,a=o.allCoins)},[a,n,i,s]}class ul extends Z{constructor(e){super(),X(this,e,Oa,za,K,{allCoins:0})}}function Ea(l){let e,t,n,a,i;return a=new Qe({props:{size:40,checked:l[0].deprived}}),a.$on("change",fe.changeDeprived),{c(){e=w("div"),t=w("span"),t.textContent="Deprived",n=S(),P(a.$$.fragment),p(t,"class","title svelte-wx5v11"),p(e,"class","deprived svelte-wx5v11")},m(s,o){H(s,e,o),g(e,t),g(e,n),M(a,e,null),i=!0},p(s,o){const u={};o&1&&(u.checked=s[0].deprived),a.$set(u)},i(s){i||(_(a.$$.fragment,s),i=!0)},o(s){k(a.$$.fragment,s),i=!1},d(s){s&&$(e),A(a)}}}function Ga(l){let e,t,n,a,i,s,o,u;return n=new ul({}),o=new Qe({props:{size:40,checked:l[0].deprived}}),o.$on("change",fe.changeDeprived),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),a=S(),i=w("span"),i.textContent="Deprived",s=S(),P(o.$$.fragment),p(t,"class","wrap svelte-wx5v11"),p(i,"class","title second svelte-wx5v11"),p(e,"class","deprived svelte-wx5v11")},m(r,f){H(r,e,f),g(e,t),M(n,t,null),g(e,a),g(e,i),g(e,s),M(o,e,null),u=!0},p(r,f){const c={};f&1&&(c.checked=r[0].deprived),o.$set(c)},i(r){u||(_(n.$$.fragment,r),_(o.$$.fragment,r),u=!0)},o(r){k(n.$$.fragment,r),k(o.$$.fragment,r),u=!1},d(r){r&&$(e),A(n),A(o)}}}function ja(l){let e,t,n,a,i,s,o,u;t=new We({props:{title:"HP",value:l[0].hp,maxValue:l[0].hpMax}}),t.$on("decrease",fe.decreaseHp),t.$on("increase",fe.increaseHp),a=new We({props:{title:"Armor",value:l[0].armor,maxValue:9,hideMaxValue:!0}}),a.$on("decrease",fe.decreaseArmor),a.$on("increase",fe.increaceArmor);const r=[Ga,Ea],f=[];function c(d,m){return d[1]==="second"?0:1}return s=c(l),o=f[s]=r[s](l),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),o.c(),p(e,"class","stats svelte-wx5v11")},m(d,m){H(d,e,m),M(t,e,null),g(e,n),M(a,e,null),g(e,i),f[s].m(e,null),u=!0},p(d,[m]){const h={};m&1&&(h.value=d[0].hp),m&1&&(h.maxValue=d[0].hpMax),t.$set(h);const b={};m&1&&(b.value=d[0].armor),a.$set(b);let y=s;s=c(d),s===y?f[s].p(d,m):(te(),k(f[y],1,1,()=>{f[y]=null}),ne(),o=f[s],o?o.p(d,m):(o=f[s]=r[s](d),o.c()),_(o,1),o.m(e,null))},i(d){u||(_(t.$$.fragment,d),_(a.$$.fragment,d),_(o),u=!0)},o(d){k(t.$$.fragment,d),k(a.$$.fragment,d),k(o),u=!1},d(d){d&&$(e),A(t),A(a),f[s].d()}}}function Na(l,e,t){let n,a;return re(l,fe,i=>t(0,n=i)),re(l,He,i=>t(1,a=i)),[n,a]}class Va extends Z{constructor(e){super(),X(this,e,Na,ja,K,{})}}function qa(l){let e,t,n;const a=l[2].default,i=Tt(a,l,l[1],null);return{c(){e=w("section"),i&&i.c(),p(e,"class",t=ee(`section ${l[0]}`)+" svelte-1wj47wp")},m(s,o){H(s,e,o),i&&i.m(e,null),n=!0},p(s,[o]){i&&i.p&&(!n||o&2)&&Mt(i,a,s,s[1],n?Ct(a,s[1],o,null):At(s[1]),null),(!n||o&1&&t!==(t=ee(`section ${s[0]}`)+" svelte-1wj47wp"))&&p(e,"class",t)},i(s){n||(_(i,s),n=!0)},o(s){k(i,s),n=!1},d(s){s&&$(e),i&&i.d(s)}}}function xa(l,e,t){let{$$slots:n={},$$scope:a}=e,{position:i=""}=e;return l.$$set=s=>{"position"in s&&t(0,i=s.position),"$$scope"in s&&t(1,a=s.$$scope)},[i,a,n]}class $e extends Z{constructor(e){super(),X(this,e,xa,qa,K,{position:0})}}function rn(l,e,t){const n=l.slice();return n[3]=e[t],n[4]=e,n[5]=t,n}function un(l){let e,t,n,a;function i(...s){return l[1](l[3],l[4],l[5],...s)}return t=new Fe({props:{placeholder:"Item",value:l[3].title,border:!1}}),t.$on("input",i),{c(){e=w("div"),P(t.$$.fragment),n=S(),p(e,"class","item svelte-j7k2te")},m(s,o){H(s,e,o),M(t,e,null),g(e,n),a=!0},p(s,o){l=s;const u={};o&1&&(u.value=l[3].title),t.$set(u)},i(s){a||(_(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&$(e),A(t)}}}function Ja(l){let e,t,n,a,i,s=Q(l[0]),o=[];for(let r=0;r<s.length;r+=1)o[r]=un(rn(l,s,r));const u=r=>k(o[r],1,1,()=>{o[r]=null});return{c(){e=w("div"),t=w("div"),t.innerHTML='<span class="info svelte-j7k2te">Petty items</span>',n=S(),a=w("div");for(let r=0;r<o.length;r+=1)o[r].c();p(t,"class","heading svelte-j7k2te"),p(a,"class","list svelte-j7k2te"),p(e,"class","petty svelte-j7k2te")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,null);i=!0},p(r,[f]){if(f&1){s=Q(r[0]);let c;for(c=0;c<s.length;c+=1){const d=rn(r,s,c);o[c]?(o[c].p(d,f),_(o[c],1)):(o[c]=un(d),o[c].c(),_(o[c],1),o[c].m(a,null))}for(te(),c=s.length;c<o.length;c+=1)u(c);ne()}},i(r){if(!i){for(let f=0;f<s.length;f+=1)_(o[f]);i=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)k(o[f]);i=!1},d(r){r&&$(e),pe(o,r)}}}function Ka(l,e,t){let n;re(l,Re,s=>t(2,n=s));const a=n;return[a,(s,o,u,r)=>{t(0,o[u].title=r.detail,a),Re.change(a)}]}class Ua extends Z{constructor(e){super(),X(this,e,Ka,Ja,K,{})}}function Qa(l){let e,t;return e=new Ra({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Xa(l){let e,t;return e=new Va({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function fn(l){let e,t;return e=new $e({props:{$$slots:{default:[Za]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Za(l){let e,t;return e=new ul({props:{allCoins:!0}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ei(l){let e,t;return e=new Fa({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function cn(l){let e,t;return e=new $e({props:{position:"last",$$slots:{default:[ti]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ti(l){let e,t;return e=new Ua({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ni(l){let e,t,n,a,i,s,o,u,r;t=new $e({props:{position:"first",$$slots:{default:[Qa]},$$scope:{ctx:l}}}),a=new $e({props:{$$slots:{default:[Xa]},$$scope:{ctx:l}}});let f=l[0]!=="second"&&fn(l);o=new $e({props:{position:l[0]!=="second"?"last":"",$$slots:{default:[ei]},$$scope:{ctx:l}}});let c=l[0]==="second"&&cn(l);return{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),f&&f.c(),s=S(),P(o.$$.fragment),u=S(),c&&c.c(),p(e,"class","sheet svelte-m6gaop")},m(d,m){H(d,e,m),M(t,e,null),g(e,n),M(a,e,null),g(e,i),f&&f.m(e,null),g(e,s),M(o,e,null),g(e,u),c&&c.m(e,null),r=!0},p(d,[m]){const h={};m&2&&(h.$$scope={dirty:m,ctx:d}),t.$set(h);const b={};m&2&&(b.$$scope={dirty:m,ctx:d}),a.$set(b),d[0]!=="second"?f?m&1&&_(f,1):(f=fn(d),f.c(),_(f,1),f.m(e,s)):f&&(te(),k(f,1,1,()=>{f=null}),ne());const y={};m&1&&(y.position=d[0]!=="second"?"last":""),m&2&&(y.$$scope={dirty:m,ctx:d}),o.$set(y),d[0]==="second"?c?m&1&&_(c,1):(c=cn(d),c.c(),_(c,1),c.m(e,null)):c&&(te(),k(c,1,1,()=>{c=null}),ne())},i(d){r||(_(t.$$.fragment,d),_(a.$$.fragment,d),_(f),_(o.$$.fragment,d),_(c),r=!0)},o(d){k(t.$$.fragment,d),k(a.$$.fragment,d),k(f),k(o.$$.fragment,d),k(c),r=!1},d(d){d&&$(e),A(t),A(a),f&&f.d(),A(o),c&&c.d()}}}function li(l,e,t){let n;return re(l,He,a=>t(0,n=a)),[n]}class ai extends Z{constructor(e){super(),X(this,e,li,ni,K,{})}}const dn="/pocket-cairn/assets/settings-8bd1b2da.svg",hn="/pocket-cairn/assets/notes-058e4448.svg",et="/pocket-cairn/assets/cross-5d728ea7.svg";function ii(l){let e,t,n=l[0]+`
`,a,i,s,o,u,r;return{c(){e=w("div"),t=w("pre"),a=I(n),i=I(`
  `),s=S(),o=w("textarea"),p(t,"class","pre svelte-19rvjtd"),p(t,"aria-hidden","true"),at(t,"min-height",l[2]),at(t,"max-height",l[1]),p(o,"class","textarea svelte-19rvjtd"),p(e,"class","container svelte-19rvjtd")},m(f,c){H(f,e,c),g(e,t),g(t,a),g(t,i),g(e,s),g(e,o),st(o,l[0]),u||(r=[oe(o,"input",l[6]),oe(o,"input",l[7])],u=!0)},p(f,[c]){c&1&&n!==(n=f[0]+`
`)&&U(a,n),c&4&&at(t,"min-height",f[2]),c&2&&at(t,"max-height",f[1]),c&1&&st(o,f[0])},i:j,o:j,d(f){f&&$(e),u=!1,ge(r)}}}function si(l,e,t){let n,a,{value:i=""}=e,{minRows:s=14}=e,{maxRows:o=36}=e;const u=me();function r(){i=this.value,t(0,i)}const f=()=>u("input",i);return l.$$set=c=>{"value"in c&&t(0,i=c.value),"minRows"in c&&t(4,s=c.minRows),"maxRows"in c&&t(5,o=c.maxRows)},l.$$.update=()=>{l.$$.dirty&16&&t(2,n=`${1+s*1.2}em`),l.$$.dirty&32&&t(1,a=o?`${1+o*1.2}em`:"auto")},[i,a,n,u,s,o,r,f]}class fl extends Z{constructor(e){super(),X(this,e,si,ii,K,{value:0,minRows:4,maxRows:5})}}function gn(l,e,t){const n=l.slice();return n[9]=e[t],n[10]=e,n[11]=t,n}function pn(l,e,t){const n=l.slice();return n[12]=e[t],n}function oi(l){let e,t,n,a,i=l[0].name+"",s,o,u,r,f=l[0].type+"",c,d,m,h;return m=new se({props:{borderless:!0,image:et,alt:"remove"}}),m.$on("click",l[5]),{c(){e=w("div"),t=w("div"),n=w("span"),a=I("Name: "),s=I(i),o=S(),u=w("span"),r=I("Type: "),c=I(f),d=S(),P(m.$$.fragment),p(n,"class","title svelte-3hbggv"),p(u,"class","title svelte-3hbggv"),p(t,"class","content svelte-3hbggv"),p(e,"class","header svelte-3hbggv")},m(b,y){H(b,e,y),g(e,t),g(t,n),g(n,a),g(n,s),g(t,o),g(t,u),g(u,r),g(u,c),g(e,d),M(m,e,null),h=!0},p(b,y){(!h||y&1)&&i!==(i=b[0].name+"")&&U(s,i),(!h||y&1)&&f!==(f=b[0].type+"")&&U(c,f)},i(b){h||(_(m.$$.fragment,b),h=!0)},o(b){k(m.$$.fragment,b),h=!1},d(b){b&&$(e),A(m)}}}function mn(l){let e,t;return e=new $e({props:{position:!l[0].inventory.length&&"last",$$slots:{default:[ri]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.position=!n[0].inventory.length&&"last"),a&32769&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function yn(l){let e,t;return e=new We({props:{title:l[12],value:l[0].stats[l[12]],maxValue:l[0].stats[`${l[12]}Max`],size:"small"}}),e.$on("decrease",l[4](l[12])),e.$on("increase",l[3](l[12])),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.value=n[0].stats[n[12]]),a&1&&(i.maxValue=n[0].stats[`${n[12]}Max`]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ri(l){let e,t,n,a,i=Q(l[2]),s=[];for(let u=0;u<i.length;u+=1)s[u]=yn(pn(l,i,u));const o=u=>k(s[u],1,1,()=>{s[u]=null});return n=new We({props:{title:"Armor",value:l[0].stats.armor,maxValue:9,hideMaxValue:!0,size:"small"}}),n.$on("decrease",l[4]("armor")),n.$on("increase",l[3]("armor")),{c(){e=w("div");for(let u=0;u<s.length;u+=1)s[u].c();t=S(),P(n.$$.fragment),p(e,"class","stat-list svelte-3hbggv")},m(u,r){H(u,e,r);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);g(e,t),M(n,e,null),a=!0},p(u,r){if(r&29){i=Q(u[2]);let c;for(c=0;c<i.length;c+=1){const d=pn(u,i,c);s[c]?(s[c].p(d,r),_(s[c],1)):(s[c]=yn(d),s[c].c(),_(s[c],1),s[c].m(e,t))}for(te(),c=i.length;c<s.length;c+=1)o(c);ne()}const f={};r&1&&(f.value=u[0].stats.armor),n.$set(f)},i(u){if(!a){for(let r=0;r<i.length;r+=1)_(s[r]);_(n.$$.fragment,u),a=!0}},o(u){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)k(s[r]);k(n.$$.fragment,u),a=!1},d(u){u&&$(e),pe(s,u),A(n)}}}function bn(l){let e,t;return e=new $e({props:{position:"last",$$slots:{default:[ui]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&32769&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function _n(l){let e,t,n,a;function i(...s){return l[8](l[9],l[10],l[11],...s)}return t=new Fe({props:{placeholder:"Item",value:l[9].title,border:!1}}),t.$on("input",i),{c(){e=w("div"),P(t.$$.fragment),n=S(),p(e,"class","item svelte-3hbggv")},m(s,o){H(s,e,o),M(t,e,null),g(e,n),a=!0},p(s,o){l=s;const u={};o&1&&(u.value=l[9].title),t.$set(u)},i(s){a||(_(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&$(e),A(t)}}}function ui(l){let e,t,n,a,i,s=Q(l[0].inventory),o=[];for(let r=0;r<s.length;r+=1)o[r]=_n(gn(l,s,r));const u=r=>k(o[r],1,1,()=>{o[r]=null});return{c(){e=w("div"),t=w("div"),t.innerHTML='<span class="info svelte-3hbggv">Inventory</span>',n=S(),a=w("div");for(let r=0;r<o.length;r+=1)o[r].c();p(t,"class","heading svelte-3hbggv"),p(a,"class","list svelte-3hbggv"),p(e,"class","inventory svelte-3hbggv")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,null);i=!0},p(r,f){if(f&1){s=Q(r[0].inventory);let c;for(c=0;c<s.length;c+=1){const d=gn(r,s,c);o[c]?(o[c].p(d,f),_(o[c],1)):(o[c]=_n(d),o[c].c(),_(o[c],1),o[c].m(a,null))}for(te(),c=s.length;c<o.length;c+=1)u(c);ne()}},i(r){if(!i){for(let f=0;f<s.length;f+=1)_(o[f]);i=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)k(o[f]);i=!1},d(r){r&&$(e),pe(o,r)}}}function fi(l){let e,t=l[0].name+"",n,a;return{c(){e=I("Are you really want to remove a "),n=I(t),a=I("?")},m(i,s){H(i,e,s),H(i,n,s),H(i,a,s)},p(i,s){s&1&&t!==(t=i[0].name+"")&&U(n,t)},d(i){i&&($(e),$(n),$(a))}}}function ci(l){let e,t,n,a=l[0].type.toLowerCase()!=="transport",i,s,o,u;t=new $e({props:{position:"first",$$slots:{default:[oi]},$$scope:{ctx:l}}});let r=a&&mn(l),f=l[0].inventory.length&&bn(l);return o=new Se({props:{isShown:l[1],teleportId:"notes",$$slots:{default:[fi]},$$scope:{ctx:l}}}),o.$on("cancel",l[6]),o.$on("ok",l[7]),{c(){e=w("div"),P(t.$$.fragment),n=S(),r&&r.c(),i=S(),f&&f.c(),s=S(),P(o.$$.fragment),p(e,"class","companion svelte-3hbggv")},m(c,d){H(c,e,d),M(t,e,null),g(e,n),r&&r.m(e,null),g(e,i),f&&f.m(e,null),H(c,s,d),M(o,c,d),u=!0},p(c,[d]){const m={};d&32769&&(m.$$scope={dirty:d,ctx:c}),t.$set(m),d&1&&(a=c[0].type.toLowerCase()!=="transport"),a?r?(r.p(c,d),d&1&&_(r,1)):(r=mn(c),r.c(),_(r,1),r.m(e,i)):r&&(te(),k(r,1,1,()=>{r=null}),ne()),c[0].inventory.length?f?(f.p(c,d),d&1&&_(f,1)):(f=bn(c),f.c(),_(f,1),f.m(e,null)):f&&(te(),k(f,1,1,()=>{f=null}),ne());const h={};d&2&&(h.isShown=c[1]),d&32769&&(h.$$scope={dirty:d,ctx:c}),o.$set(h)},i(c){u||(_(t.$$.fragment,c),_(r),_(f),_(o.$$.fragment,c),u=!0)},o(c){k(t.$$.fragment,c),k(r),k(f),k(o.$$.fragment,c),u=!1},d(c){c&&($(e),$(s)),A(t),r&&r.d(),f&&f.d(),A(o,c)}}}function di(l,e,t){let{companion:n}=e,a=!1;const i=["str","dex","wil","hp"],s=d=>()=>{we.increase(d,n.id)},o=d=>()=>{we.decrease(d,n.id)},u=()=>t(1,a=!0),r=()=>t(1,a=!1),f=()=>{we.removeCompanion(n.id),ie(),t(1,a=!1)},c=(d,m,h,b)=>{t(0,m[h].title=b.detail,n),we.changeItems(n.inventory,n.id)};return l.$$set=d=>{"companion"in d&&t(0,n=d.companion)},[n,a,i,s,o,u,r,f,c]}class hi extends Z{constructor(e){super(),X(this,e,di,ci,K,{companion:0})}}function wn(l,e,t){const n=l.slice();return n[15]=e[t],n}function gi(l){let e,t,n,a,i,s,o,u,r,f;return e=new Fe({props:{placeholder:"Name",value:l[0]}}),e.$on("input",l[7]),a=new Fe({props:{placeholder:"Type",value:l[1]}}),a.$on("input",l[8]),r=new Qe({props:{size:30,checked:l[1].toLowerCase()==="transport"}}),r.$on("change",l[4]),{c(){P(e.$$.fragment),t=S(),n=w("div"),P(a.$$.fragment),i=S(),s=w("div"),o=w("span"),o.textContent="Transport",u=S(),P(r.$$.fragment),p(s,"class","transport svelte-12o0tb0"),p(n,"class","titles svelte-12o0tb0")},m(c,d){M(e,c,d),H(c,t,d),H(c,n,d),M(a,n,null),g(n,i),g(n,s),g(s,o),g(s,u),M(r,s,null),f=!0},p(c,d){const m={};d&1&&(m.value=c[0]),e.$set(m);const h={};d&2&&(h.value=c[1]),a.$set(h);const b={};d&2&&(b.checked=c[1].toLowerCase()==="transport"),r.$set(b)},i(c){f||(_(e.$$.fragment,c),_(a.$$.fragment,c),_(r.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),k(a.$$.fragment,c),k(r.$$.fragment,c),f=!1},d(c){c&&($(t),$(n)),A(e,c),A(a),A(r)}}}function vn(l){let e,t;function n(){return l[9](l[15])}function a(){return l[10](l[15])}return e=new We({props:{title:l[15],value:l[2][l[15]],maxValue:18,hideMaxValue:!0,size:"small"}}),e.$on("decrease",n),e.$on("increase",a),{c(){P(e.$$.fragment)},m(i,s){M(e,i,s),t=!0},p(i,s){l=i;const o={};s&4&&(o.value=l[2][l[15]]),e.$set(o)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function pi(l){let e,t,n,a=Q(l[5]),i=[];for(let o=0;o<a.length;o+=1)i[o]=vn(wn(l,a,o));const s=o=>k(i[o],1,1,()=>{i[o]=null});return{c(){e=w("div");for(let o=0;o<i.length;o+=1)i[o].c();p(e,"class",t=ee(`stats${l[1].toLowerCase()==="transport"?" disabled":""}`)+" svelte-12o0tb0")},m(o,u){H(o,e,u);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);n=!0},p(o,u){if(u&36){a=Q(o[5]);let r;for(r=0;r<a.length;r+=1){const f=wn(o,a,r);i[r]?(i[r].p(f,u),_(i[r],1)):(i[r]=vn(f),i[r].c(),_(i[r],1),i[r].m(e,null))}for(te(),r=a.length;r<i.length;r+=1)s(r);ne()}(!n||u&2&&t!==(t=ee(`stats${o[1].toLowerCase()==="transport"?" disabled":""}`)+" svelte-12o0tb0"))&&p(e,"class",t)},i(o){if(!n){for(let u=0;u<a.length;u+=1)_(i[u]);n=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)k(i[u]);n=!1},d(o){o&&$(e),pe(i,o)}}}function mi(l){let e,t;return e=new We({props:{title:"slots",value:l[3],maxValue:8,hideMaxValue:!0,size:"small"}}),e.$on("decrease",l[11]),e.$on("increase",l[12]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&8&&(i.value=n[3]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function yi(l){let e,t,n,a,i,s,o;return t=new $e({props:{position:"first",$$slots:{default:[gi]},$$scope:{ctx:l}}}),a=new $e({props:{$$slots:{default:[pi]},$$scope:{ctx:l}}}),s=new $e({props:{position:"last",$$slots:{default:[mi]},$$scope:{ctx:l}}}),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),P(s.$$.fragment),p(e,"class","creation svelte-12o0tb0")},m(u,r){H(u,e,r),M(t,e,null),g(e,n),M(a,e,null),g(e,i),M(s,e,null),o=!0},p(u,[r]){const f={};r&262147&&(f.$$scope={dirty:r,ctx:u}),t.$set(f);const c={};r&262150&&(c.$$scope={dirty:r,ctx:u}),a.$set(c);const d={};r&262152&&(d.$$scope={dirty:r,ctx:u}),s.$set(d)},i(u){o||(_(t.$$.fragment,u),_(a.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),k(a.$$.fragment,u),k(s.$$.fragment,u),o=!1},d(u){u&&$(e),A(t),A(a),A(s)}}}function bi(l,e,t){const n=me();let a="",i="",s={str:Y(3,6),dex:Y(3,6),wil:Y(3,6),hp:Y(3,6)},o=[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],u=6;const r=()=>{t(6,o=[]);for(let B=0;B<u;B++)o.push({title:""})},f=()=>{t(1,i=i.toLowerCase()==="transport"?"":"Transport")};let c=["str","dex","wil","hp"];const d=B=>t(0,a=B.detail),m=B=>t(1,i=B.detail),h=B=>s[B]>0?t(2,s[B]-=1,s):t(2,s),b=B=>s[B]<18?t(2,s[B]+=1,s):t(2,s),y=()=>u>0?t(3,u-=1):t(3,u),v=()=>u<8?t(3,u+=1):t(3,u);return l.$$.update=()=>{l.$$.dirty&79&&(r(),n("change",{name:a,type:i,stats:{str:s.str,dex:s.dex,wil:s.wil,hp:s.hp,strMax:s.str,dexMax:s.dex,wilMax:s.wil,hpMax:s.hp,armor:0},inventory:o}))},[a,i,s,u,f,c,o,d,m,h,b,y,v]}class _i extends Z{constructor(e){super(),X(this,e,bi,yi,K,{})}}function kn(l,e,t){const n=l.slice();return n[7]=e[t],n}function $n(l){let e,t;return e=new hi({props:{companion:l[7]}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&4&&(i.companion=n[7]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function wi(l){let e;return{c(){e=I("Add companion")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function vi(l){let e,t;return e=new _i({}),e.$on("change",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ki(l){var d,m;let e,t,n,a,i,s,o,u,r=Q(l[2]),f=[];for(let h=0;h<r.length;h+=1)f[h]=$n(kn(l,r,h));const c=h=>k(f[h],1,1,()=>{f[h]=null});return i=new se({props:{$$slots:{default:[wi]},$$scope:{ctx:l}}}),i.$on("click",l[3]),o=new Se({props:{isShown:l[0],disableOk:!((d=l[1])!=null&&d.name)||!((m=l[1])!=null&&m.type),$$slots:{default:[vi]},$$scope:{ctx:l}}}),o.$on("cancel",l[4]),o.$on("ok",l[5]),{c(){e=w("div"),t=w("div"),n=w("div");for(let h=0;h<f.length;h+=1)f[h].c();a=S(),P(i.$$.fragment),s=S(),P(o.$$.fragment),p(n,"class","list svelte-1y90scx"),p(t,"class","wrap svelte-1y90scx"),p(e,"class","companions svelte-1y90scx")},m(h,b){H(h,e,b),g(e,t),g(t,n);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(n,null);g(n,a),M(i,n,null),H(h,s,b),M(o,h,b),u=!0},p(h,[b]){var B,O;if(b&4){r=Q(h[2]);let C;for(C=0;C<r.length;C+=1){const D=kn(h,r,C);f[C]?(f[C].p(D,b),_(f[C],1)):(f[C]=$n(D),f[C].c(),_(f[C],1),f[C].m(n,a))}for(te(),C=r.length;C<f.length;C+=1)c(C);ne()}const y={};b&1024&&(y.$$scope={dirty:b,ctx:h}),i.$set(y);const v={};b&1&&(v.isShown=h[0]),b&2&&(v.disableOk=!((B=h[1])!=null&&B.name)||!((O=h[1])!=null&&O.type)),b&1026&&(v.$$scope={dirty:b,ctx:h}),o.$set(v)},i(h){if(!u){for(let b=0;b<r.length;b+=1)_(f[b]);_(i.$$.fragment,h),_(o.$$.fragment,h),u=!0}},o(h){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)k(f[b]);k(i.$$.fragment,h),k(o.$$.fragment,h),u=!1},d(h){h&&($(e),$(s)),pe(f,h),A(i),A(o,h)}}}function $i(l,e,t){let n;re(l,we,f=>t(2,n=f));let a=!1,i=null;return[a,i,n,()=>{t(0,a=!0)},()=>{t(1,i=null),t(0,a=!1)},()=>{i&&(we.addCompanion(i),ie(),t(1,i=null),t(0,a=!1))},f=>t(1,i=f.detail)]}class Hi extends Z{constructor(e){super(),X(this,e,$i,ki,K,{})}}function Hn(l,e,t){const n=l.slice();return n[9]=e[t],n}function Si(l){let e,t,n,a,i,s;return i=new fl({props:{value:l[3]}}),i.$on("input",l[8]),{c(){e=w("span"),e.textContent="Notes:",t=S(),n=w("div"),a=w("div"),P(i.$$.fragment),p(e,"class","title svelte-nt8v5a"),p(a,"class","wrap svelte-nt8v5a"),p(n,"class","content svelte-nt8v5a")},m(o,u){H(o,e,u),H(o,t,u),H(o,n,u),g(n,a),M(i,a,null),s=!0},p(o,u){const r={};u&8&&(r.value=o[3]),i.$set(r)},i(o){s||(_(i.$$.fragment,o),s=!0)},o(o){k(i.$$.fragment,o),s=!1},d(o){o&&($(e),$(t),$(n)),A(i)}}}function Ti(l){let e,t,n,a,i,s,o,u,r,f,c,d,m,h,b,y,v,B,O;const C=[Ai,Mi,Ci],D=[];function x(z,J){return z[0]==="biography"?0:z[0]==="notes"?1:z[0]==="companions"?2:-1}return~(h=x(l))&&(b=D[h]=C[h](l)),{c(){e=w("div"),t=w("button"),n=I("Bio"),i=S(),s=w("button"),o=I("Notes"),r=S(),f=w("button"),c=I("Companions"),m=S(),b&&b.c(),y=ht(),p(t,"ontouchstart",""),p(t,"class",a=ee(`title button ${l[0]==="biography"?" checked":""}`)+" svelte-nt8v5a"),p(s,"ontouchstart",""),p(s,"class",u=ee(`title button ${l[0]==="notes"?" checked":""}`)+" svelte-nt8v5a"),p(f,"ontouchstart",""),p(f,"class",d=ee(`title button ${l[0]==="companions"?" checked":""}`)+" svelte-nt8v5a"),p(e,"class","menu svelte-nt8v5a")},m(z,J){H(z,e,J),g(e,t),g(t,n),g(e,i),g(e,s),g(s,o),g(e,r),g(e,f),g(f,c),H(z,m,J),~h&&D[h].m(z,J),H(z,y,J),v=!0,B||(O=[oe(t,"click",l[4]),oe(s,"click",l[5]),oe(f,"click",l[6])],B=!0)},p(z,J){(!v||J&1&&a!==(a=ee(`title button ${z[0]==="biography"?" checked":""}`)+" svelte-nt8v5a"))&&p(t,"class",a),(!v||J&1&&u!==(u=ee(`title button ${z[0]==="notes"?" checked":""}`)+" svelte-nt8v5a"))&&p(s,"class",u),(!v||J&1&&d!==(d=ee(`title button ${z[0]==="companions"?" checked":""}`)+" svelte-nt8v5a"))&&p(f,"class",d);let R=h;h=x(z),h===R?~h&&D[h].p(z,J):(b&&(te(),k(D[R],1,1,()=>{D[R]=null}),ne()),~h?(b=D[h],b?b.p(z,J):(b=D[h]=C[h](z),b.c()),_(b,1),b.m(y.parentNode,y)):b=null)},i(z){v||(_(b),v=!0)},o(z){k(b),v=!1},d(z){z&&($(e),$(m),$(y)),~h&&D[h].d(z),B=!1,ge(O)}}}function Ci(l){let e,t;return e=new Hi({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Mi(l){let e,t,n,a;return n=new fl({props:{value:l[3]}}),n.$on("input",l[7]),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),p(t,"class","wrap svelte-nt8v5a"),p(e,"class","content svelte-nt8v5a")},m(i,s){H(i,e,s),g(e,t),M(n,t,null),a=!0},p(i,s){const o={};s&8&&(o.value=i[3]),n.$set(o)},i(i){a||(_(n.$$.fragment,i),a=!0)},o(i){k(n.$$.fragment,i),a=!1},d(i){i&&$(e),A(n)}}}function Ai(l){let e,t,n,a,i=l[2].background+"",s,o,u,r=l[2].description+"",f,c,d,m=l[2].firstPerk.title+"",h,b,y,v=l[2].firstPerk.content+"",B,O,C,D=l[2].secondPerk.title+"",x,z,J,R,G=l[2].secondPerk.subtitle.length&&Sn(l);function E(W,q){if(W[2].bonds.length===1&&W[2].bonds[0].length)return Ri;if(W[2].bonds.length>1)return Pi}let V=E(l),F=V&&V(l),le=Q(l[2].bonds),L=[];for(let W=0;W<le.length;W+=1)L[W]=Tn(Hn(l,le,W));return{c(){e=w("div"),t=w("div"),n=w("div"),a=w("h3"),s=I(i),o=S(),u=w("span"),f=I(r),c=S(),d=w("b"),h=I(m),b=S(),y=w("span"),B=I(v),O=S(),C=w("b"),x=I(D),z=S(),G&&G.c(),J=S(),F&&F.c(),R=S();for(let W=0;W<L.length;W+=1)L[W].c();p(a,"class","svelte-nt8v5a"),p(u,"class","svelte-nt8v5a"),p(d,"class","svelte-nt8v5a"),p(y,"class","svelte-nt8v5a"),p(C,"class","svelte-nt8v5a"),p(n,"class","text no-resize svelte-nt8v5a"),p(t,"class","wrap svelte-nt8v5a"),p(e,"class","content svelte-nt8v5a")},m(W,q){H(W,e,q),g(e,t),g(t,n),g(n,a),g(a,s),g(n,o),g(n,u),g(u,f),g(n,c),g(n,d),g(d,h),g(n,b),g(n,y),g(y,B),g(n,O),g(n,C),g(C,x),g(n,z),G&&G.m(n,null),g(n,J),F&&F.m(n,null),g(n,R);for(let T=0;T<L.length;T+=1)L[T]&&L[T].m(n,null)},p(W,q){if(q&4&&i!==(i=W[2].background+"")&&U(s,i),q&4&&r!==(r=W[2].description+"")&&U(f,r),q&4&&m!==(m=W[2].firstPerk.title+"")&&U(h,m),q&4&&v!==(v=W[2].firstPerk.content+"")&&U(B,v),q&4&&D!==(D=W[2].secondPerk.title+"")&&U(x,D),W[2].secondPerk.subtitle.length?G?G.p(W,q):(G=Sn(W),G.c(),G.m(n,J)):G&&(G.d(1),G=null),V!==(V=E(W))&&(F&&F.d(1),F=V&&V(W),F&&(F.c(),F.m(n,R))),q&4){le=Q(W[2].bonds);let T;for(T=0;T<le.length;T+=1){const ae=Hn(W,le,T);L[T]?L[T].p(ae,q):(L[T]=Tn(ae),L[T].c(),L[T].m(n,null))}for(;T<L.length;T+=1)L[T].d(1);L.length=le.length}},i:j,o:j,d(W){W&&$(e),G&&G.d(),F&&F.d(),pe(L,W)}}}function Sn(l){let e,t,n=l[2].secondPerk.subtitle+"",a,i,s=l[2].secondPerk.content+"",o;return{c(){e=w("span"),t=w("i"),a=I(n),i=I(" - "),o=I(s),p(t,"class","svelte-nt8v5a"),p(e,"class","svelte-nt8v5a")},m(u,r){H(u,e,r),g(e,t),g(t,a),g(e,i),g(e,o)},p(u,r){r&4&&n!==(n=u[2].secondPerk.subtitle+"")&&U(a,n),r&4&&s!==(s=u[2].secondPerk.content+"")&&U(o,s)},d(u){u&&$(e)}}}function Pi(l){let e;return{c(){e=w("b"),e.textContent="Your bonds",p(e,"class","svelte-nt8v5a")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Ri(l){let e;return{c(){e=w("b"),e.textContent="Your bond",p(e,"class","svelte-nt8v5a")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Tn(l){let e,t=l[9]+"",n;return{c(){e=w("span"),n=I(t),p(e,"class","svelte-nt8v5a")},m(a,i){H(a,e,i),g(e,n)},p(a,i){i&4&&t!==(t=a[9]+"")&&U(n,t)},d(a){a&&$(e)}}}function Wi(l){let e,t,n,a;const i=[Ti,Si],s=[];function o(u,r){return u[1]==="second"?0:1}return t=o(l),n=s[t]=i[t](l),{c(){e=w("div"),n.c(),p(e,"class","notes svelte-nt8v5a"),p(e,"id","notes")},m(u,r){H(u,e,r),s[t].m(e,null),a=!0},p(u,[r]){let f=t;t=o(u),t===f?s[t].p(u,r):(te(),k(s[f],1,1,()=>{s[f]=null}),ne(),n=s[t],n?n.p(u,r):(n=s[t]=i[t](u),n.c()),_(n,1),n.m(e,null))},i(u){a||(_(n),a=!0)},o(u){k(n),a=!1},d(u){u&&$(e),s[t].d()}}}function Bi(l,e,t){let n,a,i;re(l,He,d=>t(1,n=d)),re(l,Xe,d=>t(2,a=d)),re(l,Me,d=>t(3,i=d));let s="biography";return[s,n,a,i,()=>{t(0,s="biography")},()=>{t(0,s="notes")},()=>{t(0,s="companions")},d=>Me.change(d.detail),d=>Me.change(d.detail)]}class Ii extends Z{constructor(e){super(),X(this,e,Bi,Wi,K,{})}}function Li(l){let e,t,n,a,i,s,o,u,r,f,c,d,m,h,b,y,v,B,O,C,D,x,z,J;return n=new se({props:{borderless:!0,image:l[1]?et:hn,alt:"notes",disabled:l[0]}}),n.$on("click",l[4]),f=new se({props:{borderless:!0,image:l[0]?et:dn,alt:"settings",disabled:l[1]}}),f.$on("click",l[5]),m=new Ii({}),b=new ai({}),v=new Ma({}),D=new Ll({}),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),a=S(),i=w("div"),s=w("div"),o=w("h2"),u=I(l[3]),r=S(),P(f.$$.fragment),c=S(),d=w("div"),P(m.$$.fragment),h=S(),P(b.$$.fragment),y=S(),P(v.$$.fragment),O=S(),C=w("footer"),P(D.$$.fragment),p(o,"class","text svelte-pzbrdw"),p(s,"class","wrap svelte-pzbrdw"),p(i,"class","name svelte-pzbrdw"),p(t,"class","header svelte-pzbrdw"),p(d,"class","main svelte-pzbrdw"),p(d,"style",B=`left: ${l[2]()}`),p(C,"class","footer svelte-pzbrdw"),p(e,"class","character svelte-pzbrdw")},m(R,G){H(R,e,G),g(e,t),M(n,t,null),g(t,a),g(t,i),g(i,s),g(s,o),g(o,u),g(t,r),M(f,t,null),g(e,c),g(e,d),M(m,d,null),g(d,h),M(b,d,null),g(d,y),M(v,d,null),g(e,O),g(e,C),M(D,C,null),J=!0},p(R,[G]){const E={};G&2&&(E.image=R[1]?et:hn),G&1&&(E.disabled=R[0]),n.$set(E),(!J||G&8)&&U(u,R[3]);const V={};G&1&&(V.image=R[0]?et:dn),G&2&&(V.disabled=R[1]),f.$set(V),(!J||G&4&&B!==(B=`left: ${R[2]()}`))&&p(d,"style",B)},i(R){J||(_(n.$$.fragment,R),_(f.$$.fragment,R),_(m.$$.fragment,R),_(b.$$.fragment,R),_(v.$$.fragment,R),_(D.$$.fragment,R),R&&he(()=>{J&&(z&&z.end(1),x=gt(e,De,{delay:200,duration:200}),x.start())}),J=!0)},o(R){k(n.$$.fragment,R),k(f.$$.fragment,R),k(m.$$.fragment,R),k(b.$$.fragment,R),k(v.$$.fragment,R),k(D.$$.fragment,R),x&&x.invalidate(),R&&(z=pt(e,De,{duration:200})),J=!1},d(R){R&&$(e),A(n),A(f),A(m),A(b),A(v),A(D),R&&z&&z.end()}}}function Yi(l,e,t){let n,a;re(l,Pe,r=>t(3,a=r));let i=!1,s=!1;const o=()=>t(1,s=!s),u=()=>t(0,i=!i);return l.$$.update=()=>{l.$$.dirty&3&&t(2,n=()=>i?"-200%":s?"0":"-100%")},[i,s,n,a,o,u]}class Di extends Z{constructor(e){super(),X(this,e,Yi,Li,K,{})}}const Yt=l=>{He.set(l.edition||"first"),l.edition||(l.edition="first"),l.companions||(l.companions=[]);const e=Lt();let t=!0;return Object.keys(e).forEach(n=>{Object.keys(l).includes(n)||(t=!1)}),t},Fi=l=>{if(l.target){const e=new FileReader;e.onload=async()=>{try{const n=await JSON.parse(e.result);Yt(n)&&(He.set(n.edition),Pe.set(n.name),be.set(n.abilities),fe.set(n.stats),Ce.set(n.coins),ve.set(n.inventory),Re.set(n.petty),ye.set(n.scars),Xe.set(n.biography),Me.set(n.notes),we.set(n.companions),ie())}catch(n){console.log(n)}};const t=l.target.files;t&&e.readAsText(t[0])}};function zi(l){let e,t,n,a,i,s,o,u;return he(l[4]),{c(){e=w("div"),t=w("input"),n=S(),a=w("label"),i=I("Upload the character"),p(t,"id","upload"),p(t,"type","file"),p(t,"class","input svelte-7qg3fm"),p(t,"accept","application/JSON"),p(a,"ontouchstart",""),p(a,"for","upload"),p(a,"class","label svelte-7qg3fm"),p(a,"style",s=`
      border-radius: ${l[1]/2}px;
    `),p(e,"class","file svelte-7qg3fm")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a),g(a,i),o||(u=[oe(window,"resize",l[4]),oe(t,"change",l[5])],o=!0)},p(r,[f]){f&2&&s!==(s=`
      border-radius: ${r[1]/2}px;
    `)&&p(a,"style",s)},i:j,o:j,d(r){r&&$(e),o=!1,ge(u)}}}function Oi(l,e,t){let n,{height:a=40}=e;const i=me();let s;function o(){t(0,s=window.innerWidth)}const u=r=>i("change",r);return l.$$set=r=>{"height"in r&&t(3,a=r.height)},l.$$.update=()=>{l.$$.dirty&9&&t(1,n=s>374?a:a*.75)},[s,n,i,a,o,u]}class cl extends Z{constructor(e){super(),X(this,e,Oi,zi,K,{height:3})}}const Ei=l=>{if(l.target){const e=new FileReader;e.onload=async()=>{try{const n=await JSON.parse(e.result);if(n.edition==="second")return;Yt(n)&&(He.set("second"),Pe.set(n.name),be.set(n.abilities),fe.set(n.stats),Ce.set(n.coins),ve.set(n.inventory),Re.set([{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]),ye.set(n.scars),Xe.set({background:"",description:"You are an experienced adventurer. There are legends here that you have even seen the First Age.",firstPerk:{title:"",content:""},secondPerk:{title:"",subtitle:"",content:""},bonds:[""]}),Me.set(n.notes),we.set([]),ie())}catch(n){console.log(n)}};const t=l.target.files;t&&e.readAsText(t[0])}};function Gi(l){let e;return{c(){e=I("Roll a character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ji(l){let e;return{c(){e=I("Convert 1e to 2e")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Ni(l){let e,t;return e=new se({props:{disabled:!0,$$slots:{default:[qi]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&2048&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Vi(l){let e,t;return e=new cl({}),e.$on("change",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function qi(l){let e;return{c(){e=I("Upload the character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function xi(l){let e;return{c(){e=I("Wrong json structure")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Ji(l){let e,t,n,a;return n=new cl({}),n.$on("change",l[8]),{c(){e=w("div"),e.innerHTML=`<span>You can turn your 1st Edition character into a 2nd Edition character,
      giving you new options.</span> <span>You cannot convert back a 2nd edition character.</span>`,t=S(),P(n.$$.fragment),p(e,"class","convert svelte-sh114e")},m(i,s){H(i,e,s),H(i,t,s),M(n,i,s),a=!0},p:j,i(i){a||(_(n.$$.fragment,i),a=!0)},o(i){k(n.$$.fragment,i),a=!1},d(i){i&&($(e),$(t)),A(n,i)}}}function Ki(l){let e,t,n,a,i,s,o,u,r,f,c,d;t=new se({props:{$$slots:{default:[Gi]},$$scope:{ctx:l}}}),t.$on("click",l[2]),a=new se({props:{$$slots:{default:[ji]},$$scope:{ctx:l}}}),a.$on("click",l[3]);const m=[Vi,Ni],h=[];function b(y,v){return y[1]?1:0}return s=b(l),o=h[s]=m[s](l),r=new Se({props:{submission:!0,isShown:l[0],$$slots:{default:[xi]},$$scope:{ctx:l}}}),r.$on("cancel",l[7]),c=new Se({props:{submission:!0,isShown:l[1],$$slots:{default:[Ji]},$$scope:{ctx:l}}}),c.$on("cancel",l[3]),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),o.c(),u=S(),P(r.$$.fragment),f=S(),P(c.$$.fragment),p(e,"class","menu svelte-sh114e")},m(y,v){H(y,e,v),M(t,e,null),g(e,n),M(a,e,null),g(e,i),h[s].m(e,null),H(y,u,v),M(r,y,v),H(y,f,v),M(c,y,v),d=!0},p(y,[v]){const B={};v&2048&&(B.$$scope={dirty:v,ctx:y}),t.$set(B);const O={};v&2048&&(O.$$scope={dirty:v,ctx:y}),a.$set(O);let C=s;s=b(y),s===C?h[s].p(y,v):(te(),k(h[C],1,1,()=>{h[C]=null}),ne(),o=h[s],o?o.p(y,v):(o=h[s]=m[s](y),o.c()),_(o,1),o.m(e,null));const D={};v&1&&(D.isShown=y[0]),v&2048&&(D.$$scope={dirty:v,ctx:y}),r.$set(D);const x={};v&2&&(x.isShown=y[1]),v&2048&&(x.$$scope={dirty:v,ctx:y}),c.$set(x)},i(y){d||(_(t.$$.fragment,y),_(a.$$.fragment,y),_(o),_(r.$$.fragment,y),_(c.$$.fragment,y),d=!0)},o(y){k(t.$$.fragment,y),k(a.$$.fragment,y),k(o),k(r.$$.fragment,y),k(c.$$.fragment,y),d=!1},d(y){y&&($(e),$(u),$(f)),A(t),A(a),h[s].d(),A(r,y),A(c,y)}}}function Ui(l,e,t){let n;re(l,Pe,h=>t(9,n=h));const a=me();let i=!1,s=!1;const o=()=>{a("show-form")},u=()=>{t(1,s=!s)},r=h=>{Fi(h.detail),n.length||t(0,i=!0)},f=h=>{Ei(h.detail),u(),n.length||t(0,i=!0)};return[i,s,o,u,r,f,h=>r(h),()=>t(0,i=!1),h=>f(h)]}class Qi extends Z{constructor(e){super(),X(this,e,Ui,Ki,K,{})}}const Xi="/pocket-cairn/assets/Inventory-c55900a0.png";function Cn(l){let e,t,n,a,i,s;return{c(){e=w("div"),t=w("span"),n=I(l[1]),a=S(),i=w("span"),s=I(l[2]),p(t,"class","text svelte-1wtwxwp"),p(i,"class","text svelte-1wtwxwp"),p(e,"class","labels svelte-1wtwxwp")},m(o,u){H(o,e,u),g(e,t),g(t,n),g(e,a),g(e,i),g(i,s)},p(o,u){u&2&&U(n,o[1]),u&4&&U(s,o[2])},d(o){o&&$(e)}}}function Zi(l){let e,t,n,a,i,s,o,u,r,f=l[1]&&l[2]&&Cn(l);return{c(){e=w("div"),t=w("button"),n=w("div"),a=S(),i=w("span"),o=S(),f&&f.c(),p(n,"class","dot svelte-1wtwxwp"),p(i,"class","checkmark"),p(t,"class",s=ee(`input${l[0]?" checked":""}`)+" svelte-1wtwxwp"),p(e,"class","tumbler svelte-1wtwxwp")},m(c,d){H(c,e,d),g(e,t),g(t,n),g(t,a),g(t,i),g(e,o),f&&f.m(e,null),u||(r=oe(t,"click",l[3]),u=!0)},p(c,[d]){d&1&&s!==(s=ee(`input${c[0]?" checked":""}`)+" svelte-1wtwxwp")&&p(t,"class",s),c[1]&&c[2]?f?f.p(c,d):(f=Cn(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:j,o:j,d(c){c&&$(e),f&&f.d(),u=!1,r()}}}function es(l,e,t){let{checked:n=!1}=e,{firstLabel:a=null}=e,{secondLabel:i=null}=e;const s=me(),o=()=>s("change");return l.$$set=u=>{"checked"in u&&t(0,n=u.checked),"firstLabel"in u&&t(1,a=u.firstLabel),"secondLabel"in u&&t(2,i=u.secondLabel)},[n,a,i,o]}class ts extends Z{constructor(e){super(),X(this,e,es,Zi,K,{checked:0,firstLabel:1,secondLabel:2})}}function ns(l){let e;return{c(){e=I(`(Coming soon...)
      `)},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ls(l){let e,t;return{c(){e=w("a"),e.textContent="YouTube",t=S(),p(e,"href","https://youtu.be/jrlL-aNhzeg"),p(e,"target","_blank"),p(e,"class","svelte-1nifx8i")},m(n,a){H(n,e,a),H(n,t,a)},d(n){n&&($(e),$(t))}}}function as(l){let e,t,n,a,i,s,o,u,r,f,c,d,m,h,b,y,v,B,O,C,D,x,z,J,R,G,E,V,F,le;o=new ts({props:{checked:l[0]==="second",firstLabel:"1 ed.",secondLabel:"2 ed."}}),o.$on("change",He.change);function L(T,ae){if(T[0]==="first")return ls;if(T[0]==="second")return ns}let W=L(l),q=W&&W(l);return E=new Qi({}),E.$on("show-form",l[2]),{c(){e=w("div"),t=w("div"),n=w("h1"),a=I(`Pocket Cairn
      `),i=w("span"),i.textContent="v.1.11",s=S(),P(o.$$.fragment),u=S(),r=w("img"),c=S(),d=w("span"),m=I(`Cairn is a game created by
      `),h=w("a"),h.textContent="Yochai Gal",b=w("br"),y=I(`
      Official game page:
      `),v=w("a"),v.textContent="cairnrpg.com",B=w("br"),O=I(`
      Watch the video guide
      `),q&&q.c(),C=w("br"),D=I(`
      Read the instructions on
      `),x=w("a"),x.textContent="GitHub",z=w("br"),J=I(`
      Application by
      `),R=w("a"),R.textContent="brightsdays",G=S(),P(E.$$.fragment),p(i,"class","version svelte-1nifx8i"),p(n,"class","title svelte-1nifx8i"),p(r,"class","image svelte-1nifx8i"),vt(r.src,f=Xi)||p(r,"src",f),p(r,"alt","inventory"),p(h,"href","https://newschoolrevolution.com"),p(h,"target","_blank"),p(h,"class","svelte-1nifx8i"),p(v,"href","https://cairnrpg.com"),p(v,"target","_blank"),p(v,"class","svelte-1nifx8i"),p(x,"href","https://github.com/BrightsDays/pocket-cairn"),p(x,"target","_blank"),p(x,"class","svelte-1nifx8i"),p(R,"href","https://brightsdays.github.io"),p(R,"target","_blank"),p(R,"class","svelte-1nifx8i"),p(d,"class","info svelte-1nifx8i"),p(t,"class","header svelte-1nifx8i"),p(e,"class","creation svelte-1nifx8i")},m(T,ae){H(T,e,ae),g(e,t),g(t,n),g(n,a),g(n,i),g(n,s),M(o,n,null),g(t,u),g(t,r),g(t,c),g(t,d),g(d,m),g(d,h),g(d,b),g(d,y),g(d,v),g(d,B),g(d,O),q&&q.m(d,null),g(d,C),g(d,D),g(d,x),g(d,z),g(d,J),g(d,R),g(e,G),M(E,e,null),le=!0},p(T,[ae]){const _e={};ae&1&&(_e.checked=T[0]==="second"),o.$set(_e),W!==(W=L(T))&&(q&&q.d(1),q=W&&W(T),q&&(q.c(),q.m(d,C)))},i(T){le||(_(o.$$.fragment,T),_(E.$$.fragment,T),T&&he(()=>{le&&(F&&F.end(1),V=gt(e,De,{delay:200,duration:200}),V.start())}),le=!0)},o(T){k(o.$$.fragment,T),k(E.$$.fragment,T),V&&V.invalidate(),T&&(F=pt(e,De,{duration:200})),le=!1},d(T){T&&$(e),A(o),q&&q.d(),A(E),T&&F&&F.end()}}}function is(l,e,t){let n;re(l,He,s=>t(0,n=s));const a=me();return[n,a,()=>a("show-form")]}class ss extends Z{constructor(e){super(),X(this,e,is,as,K,{})}}const Ht=["","Adhere","Earthquake","Masquerade","Smoke Form","Anchor","Elasticity","Miniaturize","Sniff","Animate Object","Elemental Wall","Mirror Image","Snuff","Anthropomorphize","Filch","Mirrorwalk","Sort","Arcane Eye","Flare","Multiarm","Spectacle","Astral Prison","Fog Cloud","Night Sphere","Spellsaw","Attract","Frenzy","Objectify","Spider Climb","Auditory Illusion","Gate","Ooze Form","Summon Cube","Babble","Gravity Shift","Pacify","Swarm","Bait Flower","Greed","Phobia","Telekinesis","Beast Form","Haste","Pit","Telepathy","Befuddle","Hatred","Primal Surge","Teleport","Body Swap","Hear Whispers","Push/Pull","Target Lure","Charm","Hover","Raise Dead","Thicket","Command","Hypnotize","Raise Spirit","Summon Idol","Comprehend","Icy Touch","Read Mind","Time Control","Cone of Foam","Identify Owner","Repel","True Sight","Control Plants","Illuminate","Scry","Upwell","Control Weather","Invisible Tether","Sculpt Elements","Vision","Cure Wounds","Knock","Sense","Visual Illusion","Deafen","Leap","Shield","Ward","Detect Magic","Liquid Air","Shroud","Web","Disassemble","Magic Dampener","Shuffle","Widget","Disguise","Manse","Sleep","Wizard Mark","Displace","Marble Craze","Slick	100	X-Ray Vision"],Mn=()=>{const l=[""];for(let e=1;e<=20;e++)e<=3?l.push(""):e<=14?l.push("Brigandine (1 Armor, bulky)"):e<=19?l.push("Chainmail (2 Armor, bulky)"):l.push("Plate (3 Armor, bulky)");return l},os=()=>{const l=[""];for(let e=1;e<=20;e++)e<=13?l.push(""):e<=16?l.push("Helmet (+1 Armor)"):e<=19?l.push("Shield (+1 Armor)"):l.push("both");return l},An=()=>{const l=[""];for(let e=1;e<=20;e++)e<=5?l.push("Dagger/Cudgel/Staff  (d6 damage)"):e<=14?l.push("Sword/Mace/Axe (d8 damage)"):e<=16?l.push("Sling (d4 damage)"):e<=18?l.push("Bow (d6 damage, bulky)"):e<=19?l.push("Crossbow (d8 damage, bulky)"):l.push("Halberd/War Hammer/Battleaxe  (d10 damage, bulky)");return l},Pn=["","Air Bladder","Fire Oil","Manacles","Rope (25ft)","Antitoxin","Grappling Hook","Pick","Spirit Ward","Cart (+4 slots, bulky)","Large Sack","Pole (10ft)","Spyglass","Chain (10ft)","Large Trap","Pulley","Tinderbox","Dowsing Rod","Lockpicks","Repellent","Wolfsbane"],Rn=["","Bellows","Cook Pots","Grease","Net","Bucket","Crowbar","Hammer","Saw","Caltrops","Drill (Manual)","Hour Glass","Sealant","Chalk","Fishing Rod","Metal File","Shovel","Chisel","Glue","Nails","Tongs"],Wn=["","Bottle","Horn","Mirror","Soap","Card Deck","Incense","Perfume","Sponge","Dice Set","Instrument","Quill & Ink","Tar Pot","Face Paint","Lens","Salt Pack","Twine","Fake Jewels","Marbles","Small Bell","Whistle"],rs=()=>{const l=os()[Y(1,20)],e=n=>n<=3?Rn[Y(1,20)]:n<=5?Wn[Y(1,20)]:n<=13?Pn[Y(1,20)]:n<=15?Mn()[Y(1,20)]:n<=17?An()[Y(1,20)]:`Spellbook (${Ht[Y(1,100)]})`;return[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:Mn()[Y(1,20)],inHand:!1,fatigue:!1},{title:An()[Y(1,20)],inHand:!1,fatigue:!1},{title:l==="both"?"Helmet (+1 Armor)":l,inHand:!1,fatigue:!1},{title:l==="both"?"Shield (+1 Armor)":"",inHand:!1,fatigue:!1},{title:Pn[Y(1,20)],inHand:!1,fatigue:!1},{title:Rn[Y(1,20)],inHand:!1,fatigue:!1},{title:Wn[Y(1,20)],inHand:!1,fatigue:!1},{title:e(Y(1,20)),inHand:!1,fatigue:!1}].sort((n,a)=>n.title>a.title?-1:1)};function Bn(l,e,t){const n=l.slice();return n[8]=e[t],n}function In(l){let e,t,n,a,i,s,o=Q(l[0]),u=[];for(let r=0;r<o.length;r+=1)u[r]=Ln(Bn(l,o,r));return{c(){e=w("div");for(let r=0;r<u.length;r+=1)u[r].c();p(e,"class","list svelte-1lvg6px"),p(e,"style",t=`top: -${l[0].length/2*25}%`)},m(r,f){H(r,e,f);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(e,null);a=!0,i||(s=[kt(rl.call(null,e)),oe(e,"click_outside",l[6])],i=!0)},p(r,f){if(f&9){o=Q(r[0]);let c;for(c=0;c<o.length;c+=1){const d=Bn(r,o,c);u[c]?u[c].p(d,f):(u[c]=Ln(d),u[c].c(),u[c].m(e,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=o.length}(!a||f&1&&t!==(t=`top: -${r[0].length/2*25}%`))&&p(e,"style",t)},i(r){a||(r&&he(()=>{a&&(n||(n=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!0)),n.run(1))}),a=!0)},o(r){r&&(n||(n=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!1)),n.run(0)),a=!1},d(r){r&&$(e),pe(u,r),r&&n&&n.end(),i=!1,ge(s)}}}function Ln(l){let e,t=l[8]+"",n,a,i,s;function o(){return l[5](l[8])}return{c(){e=w("button"),n=I(t),a=S(),p(e,"class","item svelte-1lvg6px")},m(u,r){H(u,e,r),g(e,n),g(e,a),i||(s=oe(e,"click",o),i=!0)},p(u,r){l=u,r&1&&t!==(t=l[8]+"")&&U(n,t)},d(u){u&&$(e),i=!1,s()}}}function us(l){let e,t,n,a,i,s,o=l[2]&&In(l);return{c(){e=w("div"),t=w("button"),n=I(l[1]),a=S(),o&&o.c(),p(t,"ontouchstart",""),p(t,"class","select svelte-1lvg6px"),p(e,"class","input svelte-1lvg6px")},m(u,r){H(u,e,r),g(e,t),g(t,n),g(e,a),o&&o.m(e,null),i||(s=oe(t,"click",l[4]),i=!0)},p(u,[r]){r&2&&U(n,u[1]),u[2]?o?(o.p(u,r),r&4&&_(o,1)):(o=In(u),o.c(),_(o,1),o.m(e,null)):o&&(te(),k(o,1,1,()=>{o=null}),ne())},i(u){_(o)},o(u){k(o)},d(u){u&&$(e),o&&o.d(),i=!1,s()}}}function fs(l,e,t){let{options:n=[""]}=e,{value:a}=e;const i=me();let s=!1;const o=c=>{t(2,s=!1),i("select",c)},u=()=>t(2,s=!0),r=c=>o(c),f=()=>t(2,s=!1);return l.$$set=c=>{"options"in c&&t(0,n=c.options),"value"in c&&t(1,a=c.value)},[n,a,s,o,u,r,f]}class cs extends Z{constructor(e){super(),X(this,e,fs,us,K,{options:0,value:1})}}const ct=()=>[{title:"Cleric",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"War Hammer (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Gauntlets (+1 Armor)",inHand:!1,fatigue:!1},{title:"Cleansing Blade (d6)",inHand:!1,fatigue:!1},{title:"Holy Symbol (Ward once per day)",inHand:!1,fatigue:!1},{title:"Cloak of the Order",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dowser",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Sickle (d6)",inHand:!1,fatigue:!1},{title:"Patchwork Doublet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Dowsing Rod",inHand:!1,fatigue:!1},{title:"Eyestone (Sense if placed in fresh water)",inHand:!1,fatigue:!1},{title:"Worn Map",inHand:!1,fatigue:!1},{title:"Spyglass",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dwarf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Prickly Root (d6)",inHand:!1,fatigue:!1},{title:"Pinecone Lattice (1 Armor)",inHand:!1,fatigue:!1},{title:"Trowel",inHand:!1,fatigue:!1},{title:"Jar of Forest Ants",inHand:!1,fatigue:!1},{title:"Poisonous mushroom",inHand:!1,fatigue:!1},{title:"Hand Drill",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Elf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Elegant Sword (d8)",inHand:!1,fatigue:!1},{title:"Recurve Bow (d8)",inHand:!1,fatigue:!1},{title:"Gilt Clothing (1 Armor)",inHand:!1,fatigue:!1},{title:"Spellbook (Detect Magic)",inHand:!1,fatigue:!1},{title:"Golden Flute",inHand:!1,fatigue:!1},{title:"Air Bladder",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Fighter",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Glaive (d10, bulky)",inHand:!1,fatigue:!1},{title:"Scimitar (d8)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Tobacco Pouch & Pipe",inHand:!1,fatigue:!1},{title:"Dice Set",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Friar",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Scepter (d6)",inHand:!1,fatigue:!1},{title:"Deceptive Robes (+1 Armor)",inHand:!1,fatigue:!1},{title:"Censer & Holy Water",inHand:!1,fatigue:!1},{title:"Jug of Honey Wine",inHand:!1,fatigue:!1},{title:"Folk Songbook",inHand:!1,fatigue:!1},{title:"Cart (+4 slots, bulky)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Knight",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longsword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Helmet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Heraldic Cape",inHand:!1,fatigue:!1},{title:"Manacles",inHand:!1,fatigue:!1},{title:"Fine Rope",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Magic User",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Fizzled Staff (d8, bulky)",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:`Spellbook (${Ht[Y(1,100)]})`,inHand:!1,fatigue:!1},{title:`Spellbook (${Ht[Y(1,100)]})`,inHand:!1,fatigue:!1},{title:"Ragged Clothing (hidden pockets)",inHand:!1,fatigue:!1},{title:"Leycap (x2, see Relics)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Thief",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Two daggers (d6+d6)",inHand:!1,fatigue:!1},{title:"Hooded Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Lockpicks",inHand:!1,fatigue:!1},{title:"Caltrops",inHand:!1,fatigue:!1},{title:"Grappling Hook",inHand:!1,fatigue:!1},{title:"Metal File",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Ranger",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Hatchet (d6)",inHand:!1,fatigue:!1},{title:"Padded Leathers (1 Armor)",inHand:!1,fatigue:!1},{title:"Large Trap",inHand:!1,fatigue:!1},{title:"Bloodhound | 2 HP, 12 DEX, bite (d6)",inHand:!1,fatigue:!1},{title:"Thundering Horn",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]}],ds=["","Arwel","Breglor","Grinwit","Melnax","Bevan","Canhoreal","Gruwid","Orthax","Boroth","Emrys","Gruwth","Triunein","Borrid","Ethex","Gwestin","Wenlan","Breagle","Gringle","Mannog","Yirmeor"],hs=["","Agune","Drelil","Lirann","Sybil","Beatrice","Elgile","Lirathil","Theune","Breagan","Esme","Lisabeth","Wenain","Bronwyn","Griya","Moralil","Ygwal","Cannora","Henaine","Morgwen","Yslen"],gs=["","Abernathy","Crumwaller","Harper","Swinney","Addercap","Dunswallow","Loomer","Thatcher","Burl","Getri","Malksmilk","Tolmen","Candlewick","Glass","Smythe","Weaver","Cormick","Harkness","Sunderman","Wolder"],ps=["","alchemist","cleric","magician","performer","blacksmith","gambler","mercenary","pickpocket","burglar","gravedigger","merchant","smuggler","butcher","herbalist","miner","servant","carpenter","hunter","outlaw","ranger"],Yn=["","athletic","scrawny","brawny","short","flabby","statuesque","lanky","stout","rugged","towering"],Dn=["","birthmark","round","dark","soft","elongated","tanned","pockmarked","tattooed","rosy","weathered"],Fn=["","bald","long","braided","luxurious","curly","oily","filthy","wavy","frizzy","wispy"],zn=["","bony","perfect","broken","rat-like","chiseled","sharp","elongated","square","pale","sunken"],On=["","blunt","gravelly","booming","precise","cryptic","squeaky","droning","stuttering","formal","whispery"],En=["","antique","frayed","bloody","frumpy","elegant","livery","filthy","rancid","foreign","soiled"],Gn=["","ambitious","honorable","cautious","humble","courageous","merciful","disciplined","serene","gregarious","tolerant"],jn=["","aggressive","lazy","bitter","nervous","craven","rude","deceitful","vain","greedy","vengeful"],ms=["","ambitious","loafer","boor","oddball","dangerous","repulsive","entertainer","respected","honest","wise"],ys=["","abandoned","defrauded","addicted","demoted","blackmailed","discredited","condemned","disowned","cursed","exiled"],bs="/pocket-cairn/assets/dice-9509d5d1.svg",_s={title:"Aurifex",description:"You are an artisan of the arcane, a smith of subtle forces. In the crucible of your workshop, the laws that govern this world are warped to suit your needs.",names:["Hestia","Basil","Rune","Prism","Ember","Quintess","Aludel","Mordant","Salaman","Jazia"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Lantern",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1},{title:"Needle-Knife (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Protective Gloves"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What experiment went horribly wrong?",list:[{content:"There was an explosion, and you lost your sense of smell. Well, almost: you can sniff out gold as a pig does truffles. Take a Tin of Snuff (6 uses) to dampen the impact. Use it every day or become deprived.",items:[{title:"Tin of Snuff (6 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"You dematerialized a beloved pet. Now it follows you around, invisible but always present. Although it cannot interact with the physical realm, you are able to share its senses (add a Fatigue each time). It follows basic commands.",items:null,petty:null},{content:"You were exposed to a long-acting truth serum whose effects have yet to wear off. The disorder has its advantages: you cannot repeat lies you`ve heard, either.",items:null,petty:null},{content:"You were adept at creating fake gold, which is almost as good. Eventually, your ruse was discovered and you had to make a hasty retreat. Take a heavy Metal Ingot and Gold Powder (3 uses).",items:[{title:"Metal Ingot",inHand:!1,fatigue:!1},{title:"Gold Powder (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Your recipe worked, but a rival stole the blueprint before your claims could be proven. Take a prototype Blunderbuss (d12, blast, bulky) and a taste for revenge.",items:[{title:"Blunderbuss (d12, blast, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Ridiculed for discovering how to turn gold into lead, you were a laughing stock. Take a bottle of Universal Solvent (2 uses) that dissolves anything it touches into its constituent parts.",items:[{title:"Universal Solvent (2 uses)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What alchemical marvel is the product of your latest ingenuity?",list:[{title:"Pyrophoric Gel",content:"A sticky green fluid that catches fire when exposed to air, then burns for 8 hours. Cannot be extinguished (1 use).",items:[{title:"Pyrophoric Gel (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Blast Sphere",content:"A head-sized iron ball filled with explosive powder that explodes on impact (d12, blast, bulky, 1 use).",items:[{title:"Blast Sphere (d12, blast, bulky, 1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Aqua Vita",content:"Purifies any liquid, converting it to pure water. Drinking it cures 1d6 STR (1 use).",items:[{title:"Aqua Vita (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Mimic Stone",content:"Records a short phrase that can later be played back.",items:[{title:"Mimic Stone",inHand:!1,fatigue:!1}],petty:null},{title:"Spark Dust",content:"Ignites easily and quickly. Useful for starting a fire or as an incendiary device (3 uses).",items:[{title:"Spark Dust (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Homunculus",content:"A miniature clay replica of yourself that follows your every command to the letter. It hates being enthralled to you and complains bitterly whenever possible. Any damage done to the homunculus is also done to you.",items:[{title:"Homunculus",inHand:!1,fatigue:!1}],petty:null}]}},ws={title:"Beast Handler",description:"You alone can walk among the creatures of the wild, fearless and in control. You share a connection with animals that others can only dream of...so long as you don`t become their snack.",names:["Amara","Wulf","Mireille","Soren","Freki","Aster","Gerrik","Boreas","Delphine","Matheus"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Leather Whip (d6)",inHand:!1,fatigue:!1},{title:"Soporific Darts (STR save or fall asleep, 6 uses)",inHand:!1,fatigue:!1},{title:"Lure",inHand:!1,fatigue:!1},{title:"Rope (25ft)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What do creatures of the wild understand that your kind do not?",list:[{content:"There is far more to the world than meets the eye. With quiet concentration, you can borrow the senses of a nearby creature of your specialty.",items:null,petty:null},{content:"The behavior of beasts is a language in itself. When observing beasts of your specialty, you gain insight into weather patterns and impending disasters.",items:null,petty:null},{content:"The pulse of the hunt is a powerful impulse. You have a sense for when predators, even those not of your specialty, are near.",items:null,petty:null},{content:"You know some lands intimately. Your chance of becoming lost in a terrain dominated by the beasts of your specialty is reduced by one step (e.g. 4-in-6 becomes 3-in-6).",items:null,petty:null},{content:"Nature`s symphony can be heard if you attune to its rhythm. When surrounded by creatures of your specialty they can alert you to approaching danger before it arrives.",items:null,petty:null},{content:"Survival is about adaptability. Once per day, you may take on a simple feature from a creature of your speciality (webbed fingers, night vision, etc.). Add a Fatigue each time.",items:null,petty:null}]},secondPerk:{title:"What creature is your specialty?",list:[{title:"Arachnids",content:"Take a Quick-Flame Rod and an Oil Can (6 uses). It can destroy a large spider nest in seconds.",items:[{title:"Quick-Flame Rod",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Felines",content:"Take a sack of Whiskerwort. Its odor can calm and control even the largest of cats.",items:[{title:"Sack of Whiskerwort",inHand:!1,fatigue:!1}],petty:null},{title:"Canines",content:"Take a wreath of Wolfsbane and a Large Net. Also effective against werewolves!",items:[{title:"Wreath of Wolfsbane",inHand:!1,fatigue:!1},{title:"Large Net",inHand:!1,fatigue:!1}],petty:null},{title:"Birds",content:"Take a Warble-Whistle (3 charges). It can imitate any bird call, and can even be used to send simple messages. Recharge: Feed a baby bird as its mother would, then blow.",items:[{title:"Warble-Whistle (3 charges)",inHand:!1,fatigue:!1}],petty:null},{title:"Rodents",content:"Take a Windpipe that emits a high-pitched sound that only rodents can hear. So long as you play, they will follow. Even to their deaths.",items:[{title:"Windpipe",inHand:!1,fatigue:!1}],petty:null},{title:"Serpents",content:"Take a Warming Stone that generates an irresistible heat, and a vial of Antitoxin (2 uses).",items:[{title:"Warming Stone",inHand:!1,fatigue:!1},{title:"Vial of Antitoxin (2 uses)",inHand:!1,fatigue:!1}],petty:null}]}},de={str:Y(3,6),dex:Y(3,6),wil:Y(3,6),hp:Y(3,6)},vs={title:"Bonekeeper",description:"You are a shepherd to the departed. You listen to the final whispers of the dead as they descend into the cold, unyielding earth. You know that to fully celebrate the gift of life, we must honor its finale as well.",names:["Rook","Ebon","Moro","Yew","Pall","Leth","Nix","Barnaby","Vesper","Leder"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Lantern",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1},{title:"Stake (d6)",inHand:!1,fatigue:!1},{title:"Chains (10ft)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What did you take from the dead?",list:[{content:"A Crow-Shaped Amulet. You can ask a question of the dead, but must add a Fatigue each time.",items:[{title:"Crow-Shaped Amulet",inHand:!1,fatigue:!1}],petty:null},{content:"A mortal wound from a freed revenant. You were healed, but the disfigurement has made you a pariah. You require neither air nor sustenance, but are still subject to pain and death. Trapped between, the dead see you as one of their own.",items:null,petty:null},{content:"A Blood Pail (bulky) from a local death-cult. Empty its contents to summon a creature built from items buried below (bones, rocks, pottery, etc). It obeys your command, but if destroyed you permanently lose 1d4 STR. It has 6 HP, 1 Armor, 13 STR, 11 DEX, 4 WIL, shard fists (d8). Recharge: Fill the bucket with the blood of a dying warrior.",items:[{title:"Blood Pail (bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"A Burial Wagon (+6 slots) from your last job. It came with a stubborn old Donkey (+4 slots, +2 slots if pulling wagon, slow).",items:null,petty:null,companions:[{id:0,name:"Stubborn Old Donkey",type:"Transport",stats:{str:de.str,dex:de.dex,wil:de.wil,hp:de.hp,strMax:de.str,dexMax:de.dex,wilMax:de.wil,hpMax:de.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]},{id:0,name:"Burial Wagon",type:"Transport",stats:{str:de.str,dex:de.dex,wil:de.wil,hp:de.hp,strMax:de.str,dexMax:de.dex,wilMax:de.wil,hpMax:de.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{content:"The Detect Magic Spellbook, stolen from an ancient library. Your family worked in service to an obscure underworld deity, but you lost your faith. Though exiled, you continue to serve, even as an apostate.",items:[{title:"Detect Magic Spellbook",inHand:!1,fatigue:!1}],petty:null},{content:"A Plague Doctor`s Mask, after its owner succumbed to the disease that wiped out everyone you once knew. They should have kept it on.",items:[{title:"Plague Doctor`s Mask",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What tool was invaluable in your work?",list:[{title:"Manacles",content:"Though old, it`s still effective even against the very strong. You don`t have the key.",items:[{title:"Manacles",inHand:!1,fatigue:!1}],petty:null},{title:"Sponge",content:"Supposedly made from the remains of a rare sea creature. It never seems to dry out.",items:[{title:"Sponge",inHand:!1,fatigue:!1}],petty:null},{title:"Pulley",content:"Great for moving gravestones, rocks, or even bodies.",items:[{title:"Pulley",inHand:!1,fatigue:!1}],petty:null},{title:"Incense",content:"Perfect for rituals, or to keep the flies at bay. Cools the blood.",items:[{title:"Incense",inHand:!1,fatigue:!1}],petty:null},{title:"Crowbar",content:"d6 damage. Sometimes you just need to get the damn thing open!",items:[{title:"Crowbar (d6 damage)",inHand:!1,fatigue:!1}],petty:null},{title:"Repellent",content:"Powerful stuff. Its faded label makes it unclear what it is actually meant to repel, though. Perhaps everything. 3 uses.",items:[{title:"Repellent (3 uses)",inHand:!1,fatigue:!1}],petty:null}]}},ks={title:"Cutpurse",description:"You live in the grey space between those who have power and those who don`t. You find opportunity where others see only chaos. With nimble fingers, you unburden both the richest merchant and the lowliest guard.",names:["Sable","Lyra","Eamon","Salina","Elara","Freya","Isolde","Sparrow","Ivy","Silas"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Twin Daggers (d6+d6, bulky)",inHand:!1,fatigue:!1},{title:"Padded Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"Lockpicks",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Black Outfit"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What was your last big job?",list:[{content:"A noble`s summer home. The place was full of fancy wine (+20gp) but not much else. Take Fence Cutters.",items:[{title:"Fence Cutters",inHand:!1,fatigue:!1}],petty:null},{content:"A bank (you were caught). You bear a brand only visible by firelight, and anyone that sees the mark can ask you for a beer. Take Retractable Wires.",items:[{title:"Retractable Wires",inHand:!1,fatigue:!1}],petty:null},{content:"A guild warehouse. Take a Ladder (bulky, 10ft) and Blinding Powder (1 use).",items:[{title:"Ladder (bulky, 10ft)",inHand:!1,fatigue:!1},{title:"Blinding Powder (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Moneylender. Someone beat you to the job, but left behind a Scroll of Arcane Eye (petty).",items:null,petty:[{title:"Scroll of Arcane Eye"}]},{content:"Constable`s quarters. You escaped, but left some friends behind. Take Strong Silk Rope and a queasy feeling.",items:[{title:"Strong Silk Rope",inHand:!1,fatigue:!1}],petty:null},{content:"A university. You were seen, but not pursued. You still don`t know why. Take Smoke Pellets (3 uses).",items:[{title:"Smoke Pellets (3 uses)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What helps you steal?",list:[{title:"Catring",content:"2 charges. Climb up walls and fall safely. Recharge: Place the ring on a stray cat`s tail.",items:[{title:"Catring (2 charges)",inHand:!1,fatigue:!1}],petty:null},{title:"Gildfinger",content:"1 charge. A finger glove that mimics any mundane key. Recharge: Bundle it with at least 100gp for a night.",items:[{title:"Gildfinger (1 charge)",inHand:!1,fatigue:!1}],petty:null},{title:"Glimpse Glass",content:"3 charges. A monocle that lets you see through walls or other obstructions. It shatters after the last use.",items:[{title:"Glimpse Glass (3 charges)",inHand:!1,fatigue:!1}],petty:null},{title:"Sweetwhistle",content:"1 charge. Listeners hear a soft, familiar voice in the distance that they cannot resist following. Recharge: Lose a dear memory (describe it).",items:[{title:"Sweetwhistle (1 charge)",inHand:!1,fatigue:!1}],petty:null},{title:"Vagrant`s Veil",content:"1 charge. Wear it to blend seamlessly into crowds, appearing as a simple pauper. Recharge: Donate all the day`s winnings to the poor (Petty).",items:null,petty:[{title:"Vagrant`s Veil (1 charge)"}]},{title:"Smokestack Marble",content:"3 uses. Crush to release a dense cloud of smoke that follows you (Petty).",items:null,petty:[{title:"Smokestack Marble (3 uses)"}]}]}},$s={title:"Fieldwarden",description:"Protectors of the harvest, defense against pests, thieves, and beasts. A position of great honor, while it lasts: many guardians do not live out their natural lives.",names:["Seed","Thresh","Dibber","Sow","Stalk","Harrow","Cobb","Flax","Briar","Rye"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Brigandine (1 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Sling (d6)",inHand:!1,fatigue:!1},{title:"Hand Axe (d6)",inHand:!1,fatigue:!1},{title:"Repellent (state the creature, 3 uses)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What got the better of you?",list:[{content:"A voracious swarm of pests that swallowed crops and animals alike. With nothing to defend, you left. Take Gale Seed Extract (3 uses). Ingesting one lets you sprint with a speed four times your regular rate. Afterward you add two Fatigue.",items:[{title:"Gale Seed Extract (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"A crop spirit, angered by a poor tithing. The fires consumed nearly everything, and afterwards you were able to gather a pouch of Fireseeds (d8, blast, 4 uses).",items:[{title:"Fireseeds (d8, blast, 4 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"An antlered, toothy demon that nearly ended you. Take a blood-stained bone knife (d6). On critical damage, its next attack becomes enhanced from contact with blood.",items:[{title:"blood-stained bone knife (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"The Withering, a type of stem rot from The Roots. Take a Diseased Crop (6 uses) that decays any plant it touches.",items:[{title:"Diseased Crop (6 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Wolves, or so you thought. You are now a Werewolf [8 HP, 15 STR, 14 DEX, claws (d6+d6) or bite (d8)]. Your WIL remains the same. You can turn at will (once per day) but must make a WIL save to revert. Anyone left alive from your attacks must make a WIL save to avoid infection.",items:null,petty:null},{content:"Crop thieves. Not all of them survived, but you were outnumbered. Take a +d4 HP and a Hilted Broadsword (d8, bulky).",items:[{title:"Smoke Pellets (3 uses)",inHand:!1,fatigue:!1}],petty:null,hp:!0}]},secondPerk:{title:"What tool saved your life?",list:[{title:"Bloodvine Whip",content:"d8 damage. On Critical Damage it drains the target`s blood, granting the weapon`s next attack the blast quality.",items:[{title:"Bloodvine Whip (d8)",inHand:!1,fatigue:!1}],petty:null},{title:"Clatter Keeper",content:"A hand-cranked device that emits a loud noise, frightening away most creatures.",items:[{title:"Clatter Keeper",inHand:!1,fatigue:!1}],petty:null},{title:"Sun Stick",content:"Provides ample warmth and light for up to one hour (1 use). Recharge: Leave in heavy sunlight for a full day.",items:[{title:"Sun Stick (1 charge)",inHand:!1,fatigue:!1}],petty:null},{title:"Root Tether",content:"When thrown, binds up to a wolf-sized creature to the soil for a short time.",items:[{title:"Root Tether",inHand:!1,fatigue:!1}],petty:null},{title:"Greenwhistle",content:"A small flute that calms plants, making passage through areas heavy with plant life a bit easier.",items:[{title:"Greenwhistle",inHand:!1,fatigue:!1}],petty:null},{title:"Everbloom Band",content:"A circlet adorned with flowers that never wilt. On taking Critical Damage the flowers dissolve into dust, but you act as if your save succeeded (STR loss still occurs).",items:[{title:"Everbloom Band",inHand:!1,fatigue:!1}],petty:null}]}},Hs={title:"Fletchwind",description:"Protectors of the harvest, defense against pests, thieves, and beasts. A position of great honor, while it lasts: many guardians do not live out their natural lives.",names:["Flint","Feather","Crier","Thunder","Falcon","Pluck","Needle","Warsong","Hawk","Cai"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"Serrated Knife (d6)",inHand:!1,fatigue:!1},{title:"Boiled Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"Heartroot Salve (restores 1d4 STR, 1 use)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What kind of wood is your bow made from?",list:[{content:"Western Yew (d6, bulky). Can be wielded as a blunt weapon (d6). Noisy.",items:[{title:"Western Yew (d6, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Sessile Oak (d8, bulky). Slams into targets. On critical damage, something is torn off.",items:[{title:"Sessile Oak (d8, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Stone Pine (d6, bulky). Produces one use of Sticky Sap per day. It is highly explosive.",items:[{title:"Stone Pine (d6, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"White Ash (d6, bulky). Can be used in place of a shield in melee combat (+1 Armor).",items:[{title:"White Ash (d6, bulky)",inHand:!1,fatigue:!1}],petty:[]},{content:"Striped Bamboo (d6). Collapsible, it only requires one slot (but still requires both hands).",items:[{title:"Striped Bamboo (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"Wych Elm (d6, bulky). Protects the bearer from poisons and toxins, so long as they are holding it.",items:[{title:"Wych Elm (d6, bulky)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"How did you earn your bow?",list:[{title:"War",content:"If you are first to attack, your bow gains the blast property for the first round.",items:null,petty:null},{title:"Falconry",content:"You keep a falcon [3 hp, 5 STR, 16 DEX, 4 WIL, claws (d6+d6), bite (d6)]. It only eats live game.",items:null,petty:null,companions:[{id:0,name:"Falcon",type:"Falcon",stats:{str:5,dex:16,wil:4,hp:3,strMax:5,dexMax:16,wilMax:4,hpMax:3,armor:0},inventory:[]}]},{title:"Hunting",content:"When taking the Supply (pg. 80) action your ability to secure Rations increases by one step (e.g. 1d4 becomes 1d6).",items:null,petty:null},{title:"Tournaments",content:"Attacks with your bow are enhanced if the target is immobile.",items:null,petty:null},{title:"Training",content:"If you are the first to attack, melee attacks against you are impaired until you take STR damage.",items:null,petty:null},{title:"Scouting",content:"When taking the Travel (pg. 80) action, your presence decreases the chance of getting lost by one step (e.g. 4-in-6 becomes 3-in-6).",items:null,petty:null}]}},Ss={title:"Fungal Forager",description:"You follow the whisperings of the deep earth, the rhythmic pulse of the mycelium forest that grows beneath the surface. The dark holds no terror for you. Also, you really love mushrooms.",names:["Unther","Woozy","Hilda","Current","Leif","Ratan","Mourella","Lal","Per","Madrigal"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Sharpened Trowel (d6)",inHand:!1,fatigue:!1},{title:"Candle Helmet (+1 Armor, dim, 6 uses)",inHand:!1,fatigue:!1},{title:"Rope (25ft)",inHand:!1,fatigue:!1},{title:"Metal Pail",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What strange fungi did you discover?",list:[{content:"Shrieking Trumpet. When exposed to light it screams so loudly that all nearby attacks (including your own) are impaired (2 uses).",items:[{title:"Shrieking Trumpet (2 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Torch Fungus. When crushed it creates a heatless light for ten minutes (3 uses).",items:[{title:"Torch Fungus (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Murderous Truffle. Pungent, highly toxic, and very rare (worth 50gp to assassins). Illegal pretty much everywhere (1 use).",items:[{title:"Murderous Truffle (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Hellcap. Exposure to its aroma causes intense nausea, even vomiting. Either way, it clears the room. Bottled (1 use).",items:[{title:"Hellcap (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Sproutcup. Ingest to shrink down to the size of a mouse (your belongings stay the same size). You return to normal size within the hour, often in fits and starts (1 use).",items:[{title:"Sproutcup (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Rootflower. A white fungus found only on corpses deep underground. Ingest to restore d6 WIL. You will dream of the dead, and their stories (1 use).",items:[{title:"Rootflower (1 use)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What keeps you sane, even in utter darkness?",list:[{title:"Glowsnail",content:"Casts a soft, bioluminescent light. Feeds on one ration every two days.",items:[{title:"Glowsnail",inHand:!1,fatigue:!1}],petty:null},{title:"Silk Moth Shawl",content:"A weatherproof blanket, it can also douse a fire without being damaged.",items:[{title:"Silk Moth Shawl",inHand:!1,fatigue:!1}],petty:null},{title:"Milkflower",content:"A gentle stimulant. Chewing makes you immune to panic for the next hour (3 uses).",items:[{title:"Milkflower (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Luxcompass",content:"Hums softly as it moves closer to the Sun. Eventually, the noise becomes unbearably loud.",items:[{title:"Luxcompass",inHand:!1,fatigue:!1}],petty:null},{title:"Sloth-Tarp",content:"A tough and weatherproof fabric, useful for hanging off trees. When inside, take +1 Armor.",items:[{title:"Sloth-Tarp",inHand:!1,fatigue:!1}],petty:null},{title:"Miner`s Grease",content:"Great for dislodging a gem, tool, or limb from a tight crack. Highly explosive (3 uses).",items:[{title:"Miner`s Grease (3 uses)",inHand:!1,fatigue:!1}],petty:null}]}},Ts={title:"Foundling",description:"An odd birthmark, a strange smell: somehow, the touch of elsewhere still lingers. You`ll never fit in, at least not where you`re at. Roll on the Omens table, but keep the results private for now.",names:["Faunus","Snowdrop","Wisp","Silverdew","Brim","Solstice","Steeleye","Sileas","Gossamer","Hazel"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Salt Pouch",inHand:!1,fatigue:!1},{title:"Sling (d6)",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Heirloom Amulet (glows in the presence of magic)"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"Who took you in?",list:[{content:"An old hunter. You were both quite happy, until it all ended. Take a Weathered Longbow (d8, bulky) and a Leather Jerkin (1 Armor).",items:[{title:"Weathered Longbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Leather Jerkin (1 Armor)",inHand:!1,fatigue:!1}],petty:null},{content:"A wizened apothecary, who taught you the healing arts but maintained a clinical detachment. Take a Healing Ungent (restores d4 STR).",items:[{title:"Healing Ungent (restores d4 STR)",inHand:!1,fatigue:!1}],petty:null},{content:"A druid, who taught you the language of trees. When it came time to leave you took with you only a Gnarled Staff (d8) and the promise that one day you would return.",items:[{title:"Gnarled Staff (d8)",inHand:!1,fatigue:!1}],petty:null},{content:"A gruff blacksmith from a sleepy river town. You were always kept at arm`s length. Now the forge is cold, and you`ve moved on. Take a Smith`s Apron (petty) and a set of oft-mended Chain Mail (2 Armor, bulky).",items:[{title:"Chain Mail (2 Armor, bulky)",inHand:!1,fatigue:!1}],petty:[{title:"Smith`s Apron"}]},{content:"A troupe of traveling entertainers. For a time, they were like family to you. One day you woke up and they were gone with no explanation. Take a Storybook, a Dagger (d6), and some burning questions.",items:[{title:"Storybook",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"The monks of a secluded forest monastery. When their rules became too strict, you snuck away. Take a Monk`s Habit (warm, petty) and a Spellbook of Control Plants.",items:[{title:"Spellbook of Control Plants",inHand:!1,fatigue:!1}],petty:[{title:"Monk`s Habit (warm)"}]}]},secondPerk:{title:"What keeps away bad tidings?",list:[{title:"Pipeweed",content:"Your good luck charm. Conversations tend to flow more easily after a smoke (6 uses).",items:[{title:"Pipeweed",inHand:!1,fatigue:!1}],petty:null},{title:"Stink Jar",content:"Shattering this jar releases an odor so foul all nearby must make a STR save or immediately vomit (1 use).",items:[{title:"Stink Jar (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Ivy Worm",content:"A green worm often mistaken for a weed. Swallowed whole, it absorbs any toxins or rot in the body before exiting through the usual way.",items:[{title:"Ivy Worm",inHand:!1,fatigue:!1}],petty:null},{title:"Dream Stone",content:"A smooth blue stone that helps recall dreams more clearly. Overuse can cause dream-addiction.",items:[{title:"Dream Stone",inHand:!1,fatigue:!1}],petty:null},{title:"Drowning Rod",content:"A finger-sized wooden stick that doubles in size each time it is fully submerged in water. It doesn`t shrink back down.",items:[{title:"Drowning Rod",inHand:!1,fatigue:!1}],petty:null},{title:"Rabbit`s Foot",content:"You were wearing it when they found you. They say it is the foot of she who left you, and that it protects you from witch magic.",items:[{title:"Rabbit`s Foot",inHand:!1,fatigue:!1}],petty:null}]}},Cs={title:"Greenwise",description:"You delve deep into The Woods, prying its secrets from between rough boughs and whispering leaves. In this verdant kingdom, you are no mere scholar, but its confidant as well.",names:["Briar","Moss","Fern","Lichen","Root","Willow","Sage","Yarrow","Rowan","Ash"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Iron Pot",inHand:!1,fatigue:!1},{title:"Root Knife (d6)",inHand:!1,fatigue:!1},{title:"Healing Salve (restores 1d4 STR, 1 use)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Twine Bauble (petty, Ward once per day)"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"How have The Woods failed you?",list:[{content:"An ill-tempered forest spirit cursed you for stealing, marking you as an enemy of their kind. Take a Bezoar Stone. Ingesting it cures any poison (1 use, unless retrieved).",items:[{title:"Bezoar Stone",inHand:!1,fatigue:!1}],petty:null},{content:"A close friend, swallowed whole. Now you see their face in any tea you brew. Take a Soporific Concoction (3 uses).",items:[{title:"Soporific Concoction (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"You were poisoned, losing your sense of taste and smell. You can now withstand noxious fumes, and always carry Antitoxin (2 uses).",items:[{title:"Antitoxin (2 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Your radical experiments turned your skin green, and you now gain nourishment as a plant. You don`t need rations, but a day without sufficient sunlight and water leaves you deprived.",items:null,petty:null},{content:"Your impressive corpseflower won a local contest then promptly killed a judge. You fled, but not without the Prize Money (100gp) and a warrant for your arrest.",items:[{title:"Prize Money (100gp)",inHand:!1,fatigue:!1}],petty:null},{content:"You created a restorative tincture that also caused accidental infertility. Take a Healing Potion that completely restores STR. Only you know of its unintended side-effects.",items:[{title:"Healing Potion",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What keeps you safe while in The Woods?",list:[{title:"Amadou",content:"A vermillion fungus that catches fire quite easily (3 uses).",items:[{title:"Amadou (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Delphinium",content:"Breathe water for up to one hour (1 use, but can be divided into fractional doses).",items:[{title:"Delphinium (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Tacky Stalk",content:"A woody reed that hardens into a permanent adhesive when chewed (2 uses).",items:[{title:"Tacky Stalk (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Wisp Lantern",content:"Caged in wrought iron, provides a dim light so long as the wisp is able to feed on nearby pain and fear.",items:[{title:"Wisp Lantern",inHand:!1,fatigue:!1}],petty:null},{title:"Seed Bomb",content:"A canvas sack filled with seeds that explodes on impact. d6 damage (blast, 3 uses).",items:[{title:"Seed Bomb (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Briarvine",content:"Entangles any creature up to horse size (STR to break free, reusable).",items:[{title:"Briarvine",inHand:!1,fatigue:!1}],petty:null}]}},Ms={title:"Hexenbane",description:"You are a mere digit on the unerring hand of justice. You go where others fear to tread, unyielding and unbroken.",names:["Percival","Felix","Isolde","Wolfram","Aldric","Eira","Oswin","Ivor","Brunhilda","Beatrix"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Blessed Tinctures",inHand:!1,fatigue:!1},{title:"Silver Knife (d6)",inHand:!1,fatigue:!1},{title:"Crossbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Vestments of the Order"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"To which order do you belong?",list:[{content:"Order of the Crossroads. Take a Pocket Leyfinder. It points to nearby ley lines and other sources of arcane power. If you lose it, the punishment is death.",items:[{title:"Pocket Leyfinder",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Bleeding Star. Take a Star-Iron mace (d8). It shines faintly in darkness, and becomes very hot in the presence of witchcraft.",items:[{title:"Star-Iron mace (d8)",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Glass Sigil. Take a Short Sword (d8) and Chainmail (2 Armor, bulky). You have contacts in most towns (the more rural, the better) willing to provide aid, food, or even weapons.",items:[{title:"Short Sword (d8)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Blank Eye. Take a Voidglass Shard. Peer through it to see invisible marks, creatures, and other magical effects. Lose the use of your eye for an hour afterwards (you are deprived).",items:[{title:"Voidglass Shard",inHand:!1,fatigue:!1}],petty:null},{content:"Order of Canaas. Once per day you can change into a wolf. Take a Quicksilver Chain. Without it, you are unable to shift back.",items:[{title:"Quicksilver Chain",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Silent Veil. Take a Quell Stone (2 uses) wrapped in burlap. Extinguishes any nearby flames once exposed to air.",items:[{title:"Quell Stone (2 uses)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What was your vow?",list:[{title:"Honesty",content:"Choose a weapon type (blunt, blade, etc). Attacks against you of this type are impaired. If your vow is broken, you lose d4 WIL.",items:null,petty:null},{title:"Poverty",content:"You carry the Disassemble Spellbook. Only you can use it. If your vow is broken, it explodes (d12 STR damage).",items:[{title:"Disassemble Spellbook",inHand:!1,fatigue:!1}],petty:null},{title:"Selflessness",content:"You are immune to magical effects such as charm, hatred, frenzy, and so on. If you break this vow, you lose d6 WIL.",items:null,petty:null},{title:"Mercy",content:"Choose a weapon type (blunt, blade, etc). Attacks with this weapon are enhanced. If your vow is broken, you can never use that weapon type again.",items:null,petty:null},{title:"Charity",content:"Once per day you can shrug off a Fatigue. If your vow is ever broken, you permanently lose one inventory slot.",items:[{title:"Nightdust Powder (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Valor",content:"The first time you inflict Critical Damage you receive d4 HP, returning to the previous limit at the end of combat. If your vow is broken, you die.",items:null,petty:null}]}},As={title:"Jongleur",description:"What inspires the soul more than song, words, and spectacle? Why practice for years to master the arcane when you`ve already got real magic inside?",names:["Jax","Selene","Baladria","Ada","Felix","Saylor","Tripp","Lantos","Echo","Jubilo"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Costume",inHand:!1,fatigue:!1},{title:"Makeup",inHand:!1,fatigue:!1},{title:"Lucky Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Prop Sword (looks real, no damage)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What happened at your final performance?",list:[{content:"Despite your training in the deadly arts, an actor died and you were blamed. Take a light-weight Rapier (d6) and a false identity.",items:[{title:"Rapier (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"The crowd loved your catchy tune about a noble and his romantic failings. The noble in question, not so much. Take the Read Mind Spellbook and a warrant for your arrest.",items:[{title:"Read Mind Spellbook",inHand:!1,fatigue:!1}],petty:null},{content:"Your debut composition reduced the audience to a gibbering mess, murmuring of bright creatures descending from the night sky. Later, you noticed that the notes resembled stellar constellations. Take a Book on Astronomy, and a lot of questions.",items:[{title:"Book on Astronomy",inHand:!1,fatigue:!1}],petty:null},{content:"You mocked a forgotten trickster god, and were cursed for it. You speak only in perfect rhyme. Ironically, this has only made you more popular among your peers. Take a Thesaurus (20gp). Without it you are deprived.",items:[{title:"Thesaurus (20gp)",inHand:!1,fatigue:!1}],petty:null},{content:"You were scarred in an on-stage accident. The crowd cheered, thinking it was part of the act. Take well-worn Stage Mail (1 Armor), a memorable scar, and a fear of applause.",items:[{title:"Stage Mail (1 Armor)",inHand:!1,fatigue:!1}],petty:null},{content:"Your respectable puppeteering skills were matched only by your mimicry. You were so good you were branded a witch (literally) and banished. Take an Uncanny Hand-Puppet and a Rabbit Skull (sewn with grass) that protects against charms.",items:[{title:"Uncanny Hand-Puppet",inHand:!1,fatigue:!1},{title:"Rabbit Skull (sewn with grass)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What trinket were you unable to leave behind?",list:[{title:"False Cuffs",content:"Comfortable, realistic-looking cuffs. Only you know the trick to get out of them.",items:[{title:"False Cuffs",inHand:!1,fatigue:!1}],petty:null},{title:"Pocket Theatre",content:"A set of small puppets and folding stage. Good for quick distractions.",items:[{title:"Pocket Theatre",inHand:!1,fatigue:!1}],petty:null},{title:"Ghost Violin",content:"A dark grey violin that plays a haunting tune, mirrored by an invisible, distant twin.",items:[{title:"Ghost Violin",inHand:!1,fatigue:!1}],petty:null},{title:"Tragic Tales",content:"Banned in proper company, it becomes less bawdy and more harrowing towards the end. Worth 100gp.",items:[{title:"Tragic Tales (100gp)",inHand:!1,fatigue:!1}],petty:null},{title:"Mythos Mask",content:"A plaster mask that allows one to take on a monster`s countenance. Once it comes off, add a Fatigue.",items:[{title:"Mythos Mask",inHand:!1,fatigue:!1}],petty:null},{title:"Rebreak Glass",content:"A wine flute that can be broken multiple times, reforming after 24 hours. Makes a really loud noise.",items:[{title:"Rebreak Glass",inHand:!1,fatigue:!1}],petty:null}]}},Ie={str:Y(3,6),dex:Y(3,6),wil:Y(3,6),hp:Y(3,6)},Ps={title:"Kettlewright",description:"You are known by the smell of molten metal and the jingle of tin. You are not a mere merchant, but an artisan of fire and metal.",names:["Fergus","Eamon","Bram","Idris","Elara","Darragh","Seren","Rónán","Berek","Lorenz"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Pincers",inHand:!1,fatigue:!1},{title:"Roll of Tin",inHand:!1,fatigue:!1},{title:"Tent (fits 2)",inHand:!1,fatigue:!1},{title:"Hammer (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What is your trade?",list:[{content:"You build small contraptions for local guilds (and don`t ask too many questions). Take an extra 40gp and a wanted poster with your face on it. Given time and materials, you can open almost any door or vault.",items:null,petty:[{title:"extra 40gp"}]},{content:"You deal in home goods and tools, hawking your wares to townspeople across the lands. Take 20gp of items from the gear table. You are fluent in the Traveller`s Cant.",items:null,petty:[{title:"extra 20gp"}]},{content:"You were a military smelter, before peace destroyed your livelihood. Take a Smelting Hammer (d10, bulky) and a Tin Helm (+1 Armor). Given time and adequate materials, you can repair armor.",items:[{title:"Smelting Hammer (d10, bulky)",inHand:!1,fatigue:!1},{title:"Tin Helm (+1 Armor).",inHand:!1,fatigue:!1}],petty:null},{content:"You sell rare and quality items to monasteries and nobles alike. Take a Spyglass, a Necklace (petty) worth 20gp, and a Scroll of Mirrorwalk (petty).",items:[{title:"Spyglass",inHand:!1,fatigue:!1}],petty:[{title:"Necklace "},{title:"Scroll of Mirrorwalk"}]},{content:"You offer protection as a service, quietly watching for threats as money exchanges hands. You start with +d4 HP, and carry a Long Sword (d10, bulky) and a Brigandine (1 Armor, bulky).",items:[{title:"Long Sword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Brigandine (1 Armor, bulky)",inHand:!1,fatigue:!1}],petty:null,hp:!0},{content:"You scavenge raw tin and iron from battlefields, pulling teeth from still-twitching corpses. Start with a young Donkey (+4 slots, slow), a Crossbow (d8 damage, bulky), and a Saw (d6).",items:[{title:"Crossbow (d8 damage, bulky)",inHand:!1,fatigue:!1},{title:"Saw (d6)",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Donkey",type:"Transport",stats:{str:Ie.str,dex:Ie.dex,wil:Ie.wil,hp:Ie.hp,strMax:Ie.str,dexMax:Ie.dex,wilMax:Ie.wil,hpMax:Ie.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]}]},secondPerk:{title:"What never fails to get you out of trouble?",list:[{title:"Fire Eggs",content:"Six small pellets made of sea salt, wood, and crockery-dust. They explode at low heat (d8, blast) but dissipate quickly.",items:[{title:"Fire Eggs (6 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Black Tar",content:"Versatile: both sticky and highly flammable (3 uses).",items:[{title:"Black Tar (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Spiked Boots",content:"Cracks heads (d8) as easily as it does ice and muck. Travel is also a bit slower, but easier.",items:[{title:"Spiked Boots (d8)",inHand:!1,fatigue:!1}],petty:null},{title:"Tinker`s Paste",content:"Seals shut any fist-sized opening (3 uses).",items:[{title:"Tinker`s Paste (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Fireworks",content:"A dazzling, albeit dangerous display. Enough explosive material to blow off a finger or three (2 uses remain).",items:[{title:"Fireworks (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Carrion Cat",content:"A clever pet, small enough to hide in your pack (bulky) strong enough to scare off smaller predators. Requires one Ration a day, and it must be meat.",items:[{title:"Carrion Cat (bulky)",inHand:!1,fatigue:!1}],petty:null}]}},Rs={title:"Marchguard",description:"Bound by blood Oath to patrol the border and protect the realm. Once sworn, the Oath cannot be broken. The Guard always finds their own.",names:["Gann","Light","Gale","Frost","Thorn","Reed","Flint","Brook","Brie","Aasim"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Lantern",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1},{title:"Long Sword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Boiled Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"Why did you take the Oath?",list:[{content:"Your family has a long tradition of serving, and you were trained from an early age on how to survive in the wild. When taking the Supply (pg. 80) action your yield increases by one step (e.g. 1d4 > 1d6).",items:null,petty:null},{content:"As a convict, the Oath was simply a means of avoiding punishment. Take Lockpicks, and the Key to a safehouse (petty).",items:[{title:"Lockpicks",inHand:!1,fatigue:!1}],petty:[{title:"Key to a safehouse"}]},{content:"Noble-born, you joined to escape family trouble. Take a Goosefelt Tarp (fits two) that you stole before leaving home.",items:[{title:"Goosefelt Tarp (fits two)",inHand:!1,fatigue:!1}],petty:null},{content:"When your family lost everything, you took the Oath to avoid becoming a burden. Take extra Rations (3 uses) and Throwing Knives (d6).",items:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Throwing Knives (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"Your life was saved by a member of the Marchguard, and you were inspired to join their ranks. Take a Snare Trap and a Sketchbook filled with detailed drawings.",items:[{title:"Snare Trap",inHand:!1,fatigue:!1},{title:"Sketchbook",inHand:!1,fatigue:!1}],petty:null},{content:"You were in a dark place, and decided that your life needed a little direction. You`re still not so sure it was the right choice. Take an Oilskin Coat and Mapping Paper.",items:[{title:"Oilskin Coat",inHand:!1,fatigue:!1},{title:"Mapping Paper",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What do you carry as proof of your Oath?",list:[{title:"Impressive Pin",content:"A metal badge of honor from the Guard. It can open doors, but leaves a trail (petty).",items:null,petty:[{title:"Impressive Pin"}]},{title:"Oath Compass",content:"Points not towards North, but instead to the nearest member of the Guard. It also lets you know when they`re getting close.",items:[{title:"Oath Compass",inHand:!1,fatigue:!1}],petty:null},{title:"Pullstones",content:"Two jet-black stones. When separated, the stones will always roll in the direction of the other.",items:[{title:"Pullstones",inHand:!1,fatigue:!1}],petty:null},{title:"Fireflask",content:"Highly alcoholic, yet strangely delicious. When thrown creates a wall of flames 10ft high that burns out after a few minutes (1 use).",items:[{title:"Fireflask (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Pain Band",content:"Touch an injured creature to transfer their wounds to you (exchange their lost STR with your own). Recharge: Wear the ring while in perfect health. It will take 1 STR, permanently (petty).",items:null,petty:[{title:"Pain Band"}]},{title:"Poacher`s Woe",content:"Strongly-scented arrows (3 uses). The scent is powerful enough to track with ease.",items:[{title:"Poacher`s Woe",inHand:!1,fatigue:!1}],petty:null}]}},Ws={title:"Mountebank",description:"Wits are your sharpest weapon, a facade your strongest shield. But when you do lose, you lose badly.",names:["Ambrose","Lucius","Beauregard","Cornelius","Aria","Seren","Indigo","Delphine","Solene","Noa"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Cane Sword (d6)",inHand:!1,fatigue:!1},{title:"Playing Cards (tricked)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Fancy Hat"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"How was your fraud exposed?",list:[{content:"Your “patients” kept reporting miraculous recoveries, despite your lack of training. Start with Bandages (3 uses) and a knack for healing.",items:[{title:"Bandages (3 uses)",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"After seducing a wealthy patron, their family hired a criminal gang to retrieve you. You got away and need to lay low. Start with Beauty Cream (2 uses). Apply to appear irresistibly beautiful for the next 12 hours.",items:[{title:"Beauty Cream (2 uses)",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"You were a peddler of fake prophesies, but when one turned out to be true, it drew unwanted attention. Roll on the Omens (pg. 15) table, but keep the result to yourself. Start with a concealable Knife (d6, petty).",items:null,petty:[{title:"Knife (d6, petty)"}],companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"Your latest stunt destroyed a priceless artifact and injured a dozen bystanders. Start with a Captain`s Uniform (petty), a Ceremonial Sword (harmless, 60gp), and a Bouquet of Flowers.",items:[{title:"Ceremonial Sword (harmless, 60gp)",inHand:!1,fatigue:!1},{title:"Bouquet of Flowers",inHand:!1,fatigue:!1}],petty:[{title:"Captain`s Uniform"}],companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"You were cursed by a hedgewitch for fooling some innocent village folk. Magic acts unpredictably in your hands (WIL save to avoid disaster). If you are the target of magic, the same applies to its wielder.",items:null,petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"Your “seances” with the dead were in actuality a ruse involving a cleverly hidden Spellbook of Auditory Illusion. Inevitably, a patron discovered your secret. Start with the spellbook and a Bundle of Scarves.",items:[{title:"Spellbook of Auditory Illusion",inHand:!1,fatigue:!1},{title:"Bundle of Scarves",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]}]},secondPerk:{title:"What keepsake could always identify you?",list:[{title:"Royal Crest",content:"Born into royalty, you chose a different life. The crest grants you access, but also alerts your family of your whereabouts.",items:null,petty:[{title:"Royal Crest"}]},{title:"Miracle Oil",content:"A smelly concoction that is also very, very, slippery (2 uses).",items:[{title:"Miracle Oil (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Surgeon`s Soap",content:"A lye and ash block that makes skin temporarily transparent, revealing the anatomy within (4 uses).",items:[{title:"Surgeon`s Soap (4 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Goat Powder",content:"Derived from the placenta of a baby goat. Temporarily cures any affliction, but symptoms return within hours.",items:[{title:"Goat Powder",inHand:!1,fatigue:!1}],petty:null},{title:"Cursed Sapphire",content:"Touch an injured creature to transfer their wounds to you (exchange their lost STR with your own). Recharge: Wear the ring while in perfect health. It will take 1 STR, permanently (petty).",items:null,petty:[{title:"Cursed Sapphire"}]},{title:"Alchemical Tattoo",content:"A dog, cat, or bird that can leave your body on demand. It follows your commands to the best of its abilities, and can pass its injuries (as STR loss) back onto you.",items:null,petty:null}]}},N={str:Y(3,6),dex:Y(3,6),wil:Y(3,6),hp:Y(3,6)},Bs={title:"Outrider",description:"Your coin comes from escorting caravans, tracking fugitives, or lending your blade to a cause. You`ve been a savior, an executioner, a hero, and even a villain. Yours is not a solitary path, however: you`ll always have your horse.",names:["Drake","Cyra","Keir","Darius","Valen","Rorik","Yara","Rui","Talon","Jory"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Long Sword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Leather Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Crossbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Spyglass",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What personal code or principle do you uphold?",list:[{content:"No innocent blood: No bystanders will come to harm on your watch. Take a Steadymade Buckler (+1 Armor). While holding this shield you cannot be moved so long as both feet are planted on firm ground.",items:[{title:"Steadymade Buckler (+1 Armor)",inHand:!1,fatigue:!1}],petty:null},{content:"Revere the tools of death: Weapons are to be respected and maintained. Take a Wyrmbone Whetstone. Following a half hour ritual sharpening, attacks with the weapon are enhanced until STR damage is dealt.",items:[{title:"Wyrmbone Whetstone",inHand:!1,fatigue:!1}],petty:null},{content:"To the death, always: You never back down from a fight, no matter the odds. Take a Death-Whistle, 1 charge. Its scream frightens away all who hear it (save WIL or flee). Recharge: Capture the final breath of a dying warrior.",items:[{title:"Death-Whistle, 1 charge",inHand:!1,fatigue:!1}],petty:null},{content:"Revere the Dead: Death is a journey we all take, and it deserves respect. Take an extra 30gp. You always place two gold pieces on the eyelids of a slain foe. Somehow, you always find the coin.",items:null,petty:[{title:"extra 30gp"}]},{content:"Loyalty to the work: Your word is your bond. Once you`ve accepted a job, you see it through to the end. Take a weathered Tally Stick. Once a vow is marked unto its face, the stick hardens (d8) until it is complete. The stick will snap in half if the vow is ever broken.",items:null,petty:[{title:"Tally Stick"}]},{content:"Always pay your debts: You always repay what you owe, whether in coin or in kind. You expect nothing less from all others. Take a blacked-out ledger, then roll a second time on the Bonds (pg. 15) table.",items:[{title:"Blacked-out Ledger",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What breed is your horse?",list:[{title:"Heavy Destrier",content:"A beast built for war; an imposing creature. 8 HP, 1 Armor, hooves (d10+d10), +2 slots.",items:null,petty:null,companions:[{id:0,name:"Heavy Destrier",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:8,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:8,armor:1},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Blacklegged Dandy",content:"Hardy and adaptable, Tough or Perilous terrain (pg. 76) are one step easier. 6 HP. +4 slots.",items:null,petty:null,companions:[{id:0,name:"Blacklegged Dandy",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:6,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:6,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Rivertooth",content:"Impressively strong, capable of carrying heavy loads. 4 HP. +6 slots (+2 if carrying two people).",items:null,petty:null,companions:[{id:0,name:"Rivertooth",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:4,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:4,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Piebald Cob",content:"Intelligent, it can understand simple commands, and even has an instinct for danger. 6 HP. +4 slots.",items:null,petty:null,companions:[{id:0,name:"Piebald Cob",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:6,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:6,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Linden White",content:"Highly trained and agile, it can perform intricate maneuvers in a time of need (no DEX save to flee). +3 slots.",items:null,petty:null,companions:[{id:0,name:"Linden White",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:N.hp,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:N.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Stray Fogger",content:"Wild, but very fast, even in Tough terrain (pg. 76). Rides light. 4 HP. +2 slots.",items:null,petty:null,companions:[{id:0,name:"Stray Fogger",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:4,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:4,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]}]}},Is={title:"Prowler",description:"You are a specter in the night, a fleeting shadow that slips by its prey, unseen. Each kill a test of cunning and animal determination, a contest between life and death. You know that one day you will lose. You look forward to it.",names:["Winda","Brielle","Theron","Chayse","Nuja","Dev","Raven","Lyra","Sable"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Tarp (shelters 1)",inHand:!1,fatigue:!1},{title:"Boiled Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"Short Sword (d6)",inHand:!1,fatigue:!1},{title:"Spring-Loaded Trap (4 STR damage)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What did you last hunt?",list:[{content:"A mock firefly, baiting water carriers with its glowing lure. Take an Alchemical Limb (d8) to replace the one it tore off. It works as well as the real thing, and is immune to poison, fire, and heat. Sometimes it jams.",items:[{title:"Alchemical Limb (d8)",inHand:!1,fatigue:!1}],petty:null},{content:"An ice nettle, trapping and draining sheep. You lost your commission when the fungus you introduced killed half the flock. Take a Rime Seed (1 use). It freezes any body of water, no matter the size. Don`t eat it.",items:[{title:"Rime Seed (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"A silver marsh crawler that killed someone close to you. You now carry its Tooth (petty) on a chain around your neck as a warning to others of its kind. The tooth hums softly when something is stalking you.",items:null,petty:[{title:"Tooth"}]},{content:"A malicious forest spirit that poisoned a homestead. You saved a Heartseed from the roots of a dying tree (plant to create a a new forest). Also, take Iron Bracers (+1 Armor, bulky).",items:[{title:"Iron Bracers (+1 Armor, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"A hollow wolf that had been frightening travellers. You took pity on the half-starved creature, and nursed it back to health. Now it is loyal to you unto death. It is also a great tunneler. 5 HP, 11 STR, 13 DEX, 8 WIL, teeth (d6).",items:null,petty:null,companions:[{id:0,name:"Hollow Wolf",type:"Wolf",stats:{str:11,dex:13,wil:8,hp:5,strMax:11,dexMax:13,wilMax:8,hpMax:5,armor:0},inventory:[]}]},{content:"An azure warbler. The gametes attract a sizeable profit, if properly extracted. You succeeded, but left its nest to the wolves. Take a Paring Knife (d6), an extra 20gp, and a pang of regret.",items:[{title:"Paring Knife (d6)",inHand:!1,fatigue:!1}],petty:[{title:"extra 20gp"}]}]},secondPerk:{title:"What tool is always in your pack?",list:[{title:"Fermented Spirits",content:"Keeps you warm at the best of times, and can be used as an explosive at the worst (3 Uses).",items:[{title:"Fermented Spirits (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Trail Shaker",content:"A noisy instrument that reveals nearby trails, even when deeply hidden.",items:[{title:"Trail Shaker",inHand:!1,fatigue:!1}],petty:null},{title:"Drowse Balm",content:"A wax bar. If boiled in water, the steam acts as a soporific agent.",items:[{title:"Drowse Balm",inHand:!1,fatigue:!1}],petty:null},{title:"Spike and Cord",content:"For traversing or securing difficult terrains, or for creating makeshift traps and structures.",items:[{title:"Spike and Cord",inHand:!1,fatigue:!1}],petty:null},{title:"Iron Rattle",content:"Touch an injured creature to transfer their wounds to you (exchange their lost STR with your own). Recharge: Wear the ring while in perfect health. It will take 1 STR, permanently (petty).",items:[{title:"Iron Rattle",inHand:!1,fatigue:!1}],petty:null},{title:"Hardening Glue",content:"Makes any flat material (cloth, leather, sand) as hard as stone. Expensive (20gp a bottle, 3 uses).",items:[{title:"Hardening Glue (20gp a bottle, 3 uses)",inHand:!1,fatigue:!1}],petty:null}]}},Ls={title:"Rill Runner",description:"You sing the stories of rivers and lakes, your talents soothing friends and the elements alike. You`ve seen more than most, but somehow it never seems to be enough.",names:["Gale","Piper","Brook","Adair","Stone","Dale","Wren","Cliff","Rain","Robin"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Water Shoes",inHand:!1,fatigue:!1},{title:"Brigandine (1 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Compass",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What songs are you best known for?",list:[{content:"The Tinker`s Two-Step. A humorous fairy tale about a gift-giving traveler. Start with a Reed Whistle. Anyone in earshot must pass a WIL save to perform an act of violence.",items:[{title:"Reed Whistle.",inHand:!1,fatigue:!1}],petty:null},{content:"The Sylph and Her Lover. A bawdy tale of lost love. Start with a Breeze Knot (3 charges). Creates a strong breeze. Recharge: Tie it to a mast during a storm.",items:[{title:"Breeze Knot (3 charges)",inHand:!1,fatigue:!1}],petty:null},{content:"Harper`s Devotion. A sad, short tale about a musician that falls in love with a star. Start with a Celestial Lute. Reveals the constellations above, no matter the weather.",items:[{title:"Celestial Lute",inHand:!1,fatigue:!1}],petty:null},{content:"The Reed Fisher. A celebrated song about a massive carp that always seems to get away. Begin with a spool of River Twine (5 uses). Each dip into the river guarantees a catch, though it might not be pleasant.",items:[{title:"Spool of River Twine (5 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Song of the Silver Stream. A wordless lullaby that mimics flowing water. Take a Stone Flute that can calm almost any river.",items:[{title:"Stone Flute",inHand:!1,fatigue:!1}],petty:null},{content:"The Thrush and the Meadow. A moody tale told in alternating chorus. Start with a Feather Quill (1 use, petty). A map drawn with this quill reveals the most expedient course between any two points.",items:null,petty:[{title:"Feather Quill (1 use)"}]}]},secondPerk:{title:"What pays your way across the land?",list:[{title:"Performance",content:"Performing at taverns always yields both room and board. Sometimes you even get tips! Start with an extra d6 gold.",items:null,petty:[{title:"extra d6 gp"}]},{title:"Bodyguard",content:"You are a protector for those afraid to travel alone. Start with a rapier (d8).",items:[{title:"Rapier (d8)",inHand:!1,fatigue:!1}],petty:null},{title:"Wares",content:"You buy low and sell high, always making just enough to get by. Take a Single Item worth 20gp or less from the equipment table.",items:null,petty:[{title:"take any item for 20 or less gp"}]},{title:"Transport",content:"You deliver “delicate” packages throughout the lands. You have at least one contact in any major town.",items:null,petty:null},{title:"Sailor`s Friend",content:"Whether water, wind, or sail, your aid brings ships to their destination. For you, passage is always free.",items:null,petty:null},{title:"Guide",content:"You shepherd caravans and travelers across water-soaked lands. Start with a Map relevant to your next journey.",items:null,petty:[{title:"Map relevant to your next journey"}]}]}},Ys={title:"Scrivener",description:"You copy ancient texts and illuminate manuscripts, recording the voices of the clever, the great, and the powerful. You will prove that the pen truly is mightier than the sword.",names:["Per","Stilo","Akshara","Pisa","Ji-Yun","Kalamos","Hugo","Shui","Kalam","Julius"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Quill & Ink",inHand:!1,fatigue:!1},{title:"Blank Book",inHand:!1,fatigue:!1},{title:"Awl (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Badge"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What work did you keep for yourself?",list:[{content:"The Wild Tongue. A bundle of leather-bound scrolls. A seminal work, cataloging the hidden languages of beasts, and how to understand them.",items:[{title:"The Wild Tongue",inHand:!1,fatigue:!1}],petty:null},{content:"The Silent Symphony. Bound in fluorescent wrap. Very rare, it chronicles the subtle signs used by those employing invisibility magic.",items:[{title:"The Silent Symphony",inHand:!1,fatigue:!1}],petty:null},{content:"A Treatise on the Abyss. A non-descript black book. An in-depth, largely theoretical text describing The Roots, as well as information around the location of a nearby Gate.",items:[{title:"A Treatise on the Abyss",inHand:!1,fatigue:!1}],petty:null},{content:"The Star Waltz. A comet-shaped clasp embracing a fine leather cover. Detailed astronomical charts, celestial movements, and stellar festivals. Highly valued (100gp) for its usefulness to travelers.",items:[{title:"The Star Waltz (100gp)",inHand:!1,fatigue:!1}],petty:null},{content:"The Cathedral and the Canopy. Large-leaf binding over vellum. Nominally a children`s storybook, the margins detail information about traveling, eating, and sleeping in the cloud forests.",items:[{title:"The Cathedral and the Canopy",inHand:!1,fatigue:!1}],petty:null},{content:"Garden of Glass. Bound in the cover of another book. A heretical work, it describes the materials, procedures, and optimal locations required to open a Gate.",items:[{title:"Garden of Glass",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"How do you transcribe sensitive information?",list:[{title:"Fib Ink",content:"Glows when used to write true statements, but fades if used to write false ones.",items:[{title:"Fib Ink",inHand:!1,fatigue:!1}],petty:null},{title:"Cipher Stone",content:"A pair of sharp black stones. Decrypts any message written by the other.",items:[{title:"Cipher Stone",inHand:!1,fatigue:!1}],petty:null},{title:"Everquill",content:"A quill that writes on any surface. You still need ink (petty).",items:null,petty:[{title:"Everquill"}]},{title:"Whisper Vial",content:"Whisper a message into the vial and it will play back to whomever opens it next.",items:[{title:"Whisper Vial",inHand:!1,fatigue:!1}],petty:null},{title:"Voyeur`s Suringa",content:"Extracts blood from a target without their knowledge. A stolen drop placed on the eye reveals memories from the past day.",items:[{title:"Voyeur`s Suringa",inHand:!1,fatigue:!1}],petty:null},{title:"Echo Leaf",content:"A blank parchment. Whomever unfurls it sees their actions of the day slowly revealed in a tight scrawl.",items:[{title:"Echo Leaf",inHand:!1,fatigue:!1}],petty:null}]}},Ds={title:"Barber-Surgeon",description:"You walk the line between healer and harrower, knowing the frailty of the flesh but also the secrets that lay within. With the right tools, life and death are merely words.",names:["Wilmot","Patch","Lancet","Sawbones","Theo","Cutwell","Humor","Landsford","Goodeye","Johanna"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Amputation Knife (d6)",inHand:!1,fatigue:!1},{title:"Bandages (3 uses)",inHand:!1,fatigue:!1},{title:"Leech (restores 1 STR, 3 uses)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Stained Medical Finery"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"How have you “improved” yourself?",list:[{content:"You have a replacement eye that can magnify objects, acts as a telescope, and provides minimal night vision. You cannot wear anything metal on your head, and strong magnets make you deprived.",items:null,petty:null},{content:"One foot is mostly metal (kick, d6), and you treat some Tough Terrain as Easy. Carry an Oil Can (6 uses). Without a daily application you are deprived and noisy.",items:[{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"One of your fingers has been swapped, the bone replaced by gold and iron. Take a Hook and a Screwdriver that can attach to the fingertip.",items:null,petty:[{title:"Hook and Screwdriver"}]},{content:"Both ears have been surgically enhanced, tripling your hearing. You can focus on a specific sound at a great distance, such as a conversation. You wear an ear flap to protect against sudden loud noises (WIL save to avoid temporary paralysis).",items:null,petty:null},{content:"Your chest is lined with alchemical sigils, toughening the skin (1 Armor). Wearing other metallic armor nullifies the effect.",items:null,petty:null},{content:"One arm is fully metal, and comes off at the shoulder. It can be used as a weapon (d8, bulky when not attached) and can move independently if you are within sight of it.",items:null,petty:null}]},secondPerk:{title:"What rare tool is essential to your work?",list:[{title:"Regrowth Salve",content:"Regrows a body part over the course of a day (1 use).",items:[{title:"Regrowth Salve (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Graftgrub",content:"A small worm that can fuse inanimate objects with parts of the body (1 use).",items:[{title:"Graftgrub (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Woundwax",content:"Heals wounds from fire or chemicals (restoring full STR), but nothing else (2 uses).",items:[{title:"Woundwax (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Quicksilver",content:"A stimulant. Go first in combat, and automatically pass any WIL saves for one hour. Addictive: Save STR or become deprived after 24 hours without it (4 uses).",items:[{title:"Quicksilver (4 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Pneuma Pump",content:"Portable iron lungs (bulky). Enables life-saving surgery, or underwater breathing.",items:[{title:"Pneuma Pump (bulky)",inHand:!1,fatigue:!1}],petty:null},{title:"Lodestone",content:"Draws out dangerous elements from the body, and acts as a powerful magnetic force.",items:[{title:"Lodestone",inHand:!1,fatigue:!1}],petty:null}]}},Fs={title:"Half Witch",description:"Born of both the mortal world and the unseen, a crossing of veils that makes you an enigma to many. You are both a conduit and a caution of what happens when two worlds collide.",names:["Solena","Veles","Bryn","Sabine","Razvan","Rowena","Galen","Nyx","Vex","Iwan"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Spellbook (Thicket)",inHand:!1,fatigue:!1},{title:"Iron Dagger (d6)",inHand:!1,fatigue:!1},{title:"Herbs Pouch (restore 1 STR, 3 uses)",inHand:!1,fatigue:!1},{title:"Ghillie Suit",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What did you bring back from the unseelie court?",list:[{content:"A Black Rose Fiddle (bulky). Its music causes intense sadness and immobility in nearby mortals (others are merely fascinated). You don`t know how to play.",items:[{title:"Black Rose Fiddle (bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Paper Legs. You are extremely light, and can fall a few stories without getting hurt. Try to avoid tearing them or getting them wet.",items:[{title:"Paper Legs",inHand:!1,fatigue:!1}],petty:null},{content:"A Living Nightmare that dwells within you, but manifests whenever youare in danger. It has your same Attributes and HP, and attacks with claws(d8+d8). It disappears on Critical Damage (take 1d4 WIL damage), re-appearing again on the next full moon.",items:null,petty:null},{content:"A Raven Familiar [8 HP, 3 STR, 11 DEX, 13 WIL, beak (d6)]. It speaks as an intelligent being and is entirely devoted to you.",items:null,petty:null,companions:[{id:0,name:"Raven Familiar",type:"Raven",stats:{str:3,dex:11,wil:13,hp:8,strMax:3,dexMax:11,wilMax:13,hpMax:8,armor:0},inventory:[]}]},{content:"A Briar Thorn. It can pierce any organic material (quite painfully) but when removed leaves no trace of the intrusion.",items:[{title:"Briar Thorn",inHand:!1,fatigue:!1}],petty:null},{content:"A Fae creature`s True Name. Use it to summon its owner for an act of great service, but only once. It could also fetch a hefty price, to the right buyer.",items:null,petty:null}]},secondPerk:{title:"What concoction do you carry, and what rare ingredients did you gather to make it?",list:[{title:"Rebirth Ash",content:"Remnants of a bark spirit. Sprinkle to reignite a fire that has died, or return to life a creature that has died only moments before (3 uses).",items:[{title:"Rebirth Ash (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Glamour Feather",content:"Plume of a firebird. Can make any creature appear convincingly as someone (or something) else (1 use).",items:[{title:"Glamour Feather (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Hawthorn Seed",content:"An acorn from the other side, gathered on the spring equinox. When planted it sprouts a luxurious shelter, collapsing at moonrise the next day (1 use).",items:[{title:"Hawthorn Seed (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Stonetree Sap",content:"Sap obtained in exchange for blood. Hardens when rubbed on any surface (+1 Armor, 3 uses).",items:[{title:"Stonetree Sap (+1 Armor, 3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Nightdust Powder",content:"Made from the ritual burning of six owls. When tossed in the air, day turns to night for a short while (2 uses).",items:[{title:"Nightdust Powder (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Hex Stone",content:"Gathered from a river that flows from the other side. Removed from its iron tin, it can absorb the effects of an active magical effect. If destroyed, the magic is released (1 use).",items:[{title:"Hex Stone (1 use)",inHand:!1,fatigue:!1}],petty:null}]}},St=[_s,Ds,ws,vs,ks,$s,Hs,Ts,Ss,Cs,Fs,Ms,As,Ps,Rs,Ws,Bs,Is,Ls,Ys],je=[{content:"You inherited a Single Gem (500gp, cold and brittle) from a long-dead relative. It arrived with a warning: squander your newfound riches and a debt long thought forgotten would be called.",items:[{title:"Single Gem (500gp, cold and brittle)",inHand:!1,fatigue:!1}],petty:null,gold:0},{content:"A distant cousin left you a small inheritance. Take 20Gp and a Strange Compass (petty) that always points towards something deep in The Woods.",items:null,petty:[{title:"Small Compass"}],gold:20},{content:"You carry a hand-drawn Portrait (petty) of a past love who disappeared into The Woods long ago. Somehow, you know that they are still alive.",items:null,petty:[{title:"Portrait"}],gold:0},{content:"You found a Tiny Crystal Prism (petty) buried in the dirt. When held up to the light, it shows visions of an unknown location deep within The Woods. Sometimes, you feel a presence looking back at you.",items:null,petty:[{title:"Tiny Crystal Prism"}],gold:0},{content:"You once freed a Naiad from a choked stream. In return, it gave you some Silver Moss (petty). Swallow it near water and the creature will come, once, to repay its debt.",items:null,petty:[{title:"Silver Moss"}],gold:0},{content:"You inherited an old Journal, bound in bark. Each evening, its pages are filled with the events of the day, crassly written from the journal`s perspective. The writing is crude, but accurate.",items:[{title:"Old Journal",inHand:!1,fatigue:!1}],petty:null,gold:0},{content:"You protect a long-dormant family secret. Take one half of an Ancient Key (petty). They say that if joined with its twin, it opens a Gate through any door.",items:null,petty:[{title:"Ancient Key"}],gold:0},{content:"You received a Letter (petty) detailing incontrovertible proof that your true parentage is that of Fae nobility. The note also indicates a date and location where you are to meet them, deep in The Woods.",items:null,petty:[{title:"Letter"}],gold:0},{content:"You owe a great debt to a member of the nobility and carry their Signet Ring (petty), which serves as proof of their protection as well as your obligation.",items:null,petty:[{title:"Signet Ring"}],gold:0},{content:"You consumed a mischievous spirit that periodically wreaks havoc on your insides, demanding to be taken home. It wants to keep you alive, at least until it is free. It can detect magic and knows quite a bit about The Woods.",items:null,petty:null,gold:0},{content:"A roaming storyteller once spun you tales of great treasure hidden deep in The Woods. You thought it naught but fancy, till they gave you a Rolled-up Map (petty) marked with an X.",items:null,petty:[{title:"Rolled-up Map"}],gold:0},{content:"During your travels, you met a dying hunter who asked you to deliver a message to their loved ones. Take a Letter (petty), sealed with tree sap. It is addressed only to the Lord of Winter.",items:null,petty:[{title:"Letter"}],gold:0},{content:"You found a wounded beast in the forest, but chose to ignore it. You see it everywhere now, but only when you`re alone. It looks sad, but not angry.",items:null,petty:null,gold:0},{content:"You promised a childhood friend that you`d bring them back a rare gift, something unique in all the world. Take a Bracelet (petty) woven from twine and wildflowers.",items:null,petty:[{title:"Bracelet"}],gold:0},{content:"You crossed a creature of The Woods, and it cursed you with a Stone Heart. With each passing month, the stone grows heavier by one slot. Until your debt is lifted, you cannot truly die.",items:null,petty:null,gold:0},{content:"You carved a Whistle (petty) from an Oak Lord’s branch. Your act did not go unnoticed. You cannot seem to rid yourself of the whistle either.",items:null,petty:[{title:"Whistle"}],gold:0},{content:"The Dawn Brigade did your family a service, giving you a dried Blood-Red Flower (petty) as proof. When the flower turns white, it means the favor is owed.",items:null,petty:[{title:"Blood-Red Flower"}],gold:0},{content:"An entertainer once visited your home, filling it with story and song. He left one day without a word, leaving behind only a Miniature Lute. Something rattles inside.",items:[{title:"Miniature Lute",inHand:!1,fatigue:!1}],petty:null,gold:0},{content:"A white crow appeared to you in a dream, holding a twig in its mouth. You awoke the next morning with The Twig (petty) in your hand. You believe it brings you luck. It smells faintly of sulfur.",items:null,petty:[{title:"The Twig"}],gold:0},{content:"One of your ancestors wronged a Moss Witch, who cursed their bloodline. Your visage causes mirrors to shatter. You’ve noticed that the shards can sometimes reveal illusions.",items:null,petty:null,gold:0}];function zs(l){return l.fatigue!==void 0}const Ne=l=>{let e;ve.subscribe(n=>e=n);let t;Re.subscribe(n=>t=n),l.forEach(n=>{if(zs(n)){const a=[...e],i=a.findIndex(s=>!s.title.length);a[i]=n,ve.set(a)}else{const a=[...t],i=a.findIndex(s=>!s.title.length);a[i]=n,Re.set(a)}})};function Nn(l,e,t){const n=l.slice();return n[9]=e[t],n}function Vn(l){let e,t,n,a,i,s=(l[9].description||l[9].content)+"",o,u,r,f,c,d;return n=new Qe({props:{size:20,label:l[9].title,checked:l[0]===l[9],disabled:l[0]===l[9]}}),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),a=S(),i=w("span"),o=I(s),u=S(),p(t,"class","select svelte-1rikm9z"),p(i,"class","description svelte-1rikm9z"),p(e,"role","switch"),p(e,"aria-checked","true"),p(e,"tabindex","0"),p(e,"class","item svelte-1rikm9z"),p(e,"style",r=`
            flex-direction: ${l[9].title?"column":"row"};
            align-items: ${l[9].title?"stat":"center"};
          `)},m(m,h){H(m,e,h),g(e,t),M(n,t,null),g(e,a),g(e,i),g(i,o),g(e,u),f=!0,c||(d=[oe(e,"click",function(){Ae(l[6](l[9]))&&l[6](l[9]).apply(this,arguments)}),oe(e,"keyup",function(){Ae(l[6](l[9]))&&l[6](l[9]).apply(this,arguments)})],c=!0)},p(m,h){l=m;const b={};h&4&&(b.label=l[9].title),h&5&&(b.checked=l[0]===l[9]),h&5&&(b.disabled=l[0]===l[9]),n.$set(b),(!f||h&4)&&s!==(s=(l[9].description||l[9].content)+"")&&U(o,s),(!f||h&4&&r!==(r=`
            flex-direction: ${l[9].title?"column":"row"};
            align-items: ${l[9].title?"stat":"center"};
          `))&&p(e,"style",r)},i(m){f||(_(n.$$.fragment,m),f=!0)},o(m){k(n.$$.fragment,m),f=!1},d(m){m&&$(e),A(n),c=!1,ge(d)}}}function Os(l){let e;return{c(){e=I(l[3])},m(t,n){H(t,e,n)},p(t,n){n&8&&U(e,t[3])},d(t){t&&$(e)}}}function Es(l){let e;return{c(){e=I(l[4])},m(t,n){H(t,e,n)},p(t,n){n&16&&U(e,t[4])},d(t){t&&$(e)}}}function Gs(l){let e,t,n,a,i,s,o,u,r,f,c,d,m=Q(l[2]),h=[];for(let y=0;y<m.length;y+=1)h[y]=Vn(Nn(l,m,y));const b=y=>k(h[y],1,1,()=>{h[y]=null});return r=new se({props:{$$slots:{default:[Os]},$$scope:{ctx:l}}}),r.$on("click",l[7]),c=new se({props:{$$slots:{default:[Es]},$$scope:{ctx:l}}}),c.$on("click",l[8]),{c(){e=w("div"),t=w("span"),n=I(l[1]),a=S(),i=w("div"),s=w("div");for(let y=0;y<h.length;y+=1)h[y].c();o=S(),u=w("div"),P(r.$$.fragment),f=S(),P(c.$$.fragment),p(t,"class","heading svelte-1rikm9z"),p(s,"class","list svelte-1rikm9z"),p(i,"class","wrap svelte-1rikm9z"),p(u,"class","controls svelte-1rikm9z"),p(e,"class","list svelte-1rikm9z")},m(y,v){H(y,e,v),g(e,t),g(t,n),g(e,a),g(e,i),g(i,s);for(let B=0;B<h.length;B+=1)h[B]&&h[B].m(s,null);g(e,o),g(e,u),M(r,u,null),g(u,f),M(c,u,null),d=!0},p(y,[v]){if((!d||v&2)&&U(n,y[1]),v&69){m=Q(y[2]);let C;for(C=0;C<m.length;C+=1){const D=Nn(y,m,C);h[C]?(h[C].p(D,v),_(h[C],1)):(h[C]=Vn(D),h[C].c(),_(h[C],1),h[C].m(s,null))}for(te(),C=m.length;C<h.length;C+=1)b(C);ne()}const B={};v&4104&&(B.$$scope={dirty:v,ctx:y}),r.$set(B);const O={};v&4112&&(O.$$scope={dirty:v,ctx:y}),c.$set(O)},i(y){if(!d){for(let v=0;v<m.length;v+=1)_(h[v]);_(r.$$.fragment,y),_(c.$$.fragment,y),d=!0}},o(y){h=h.filter(Boolean);for(let v=0;v<h.length;v+=1)k(h[v]);k(r.$$.fragment,y),k(c.$$.fragment,y),d=!1},d(y){y&&$(e),pe(h,y),A(r),A(c)}}}function js(l,e,t){const n=me();let{title:a=""}=e,{list:i}=e,{selectedItem:s}=e,{backButton:o="Back"}=e,{nextButton:u="Next"}=e;const r=d=>()=>{t(0,s=d)},f=()=>n("back"),c=()=>n("next",s);return l.$$set=d=>{"title"in d&&t(1,a=d.title),"list"in d&&t(2,i=d.list),"selectedItem"in d&&t(0,s=d.selectedItem),"backButton"in d&&t(3,o=d.backButton),"nextButton"in d&&t(4,u=d.nextButton)},[s,a,i,o,u,n,r,f,c]}class Dt extends Z{constructor(e){super(),X(this,e,js,Gs,K,{title:1,list:2,selectedItem:0,backButton:3,nextButton:4})}}function qn(l){let e,t,n,a,i;const s=[qs,Vs,Ns],o=[];function u(r,f){return r[3]==="back"?0:r[3]==="first-perk"?1:r[3]==="second-perk"?2:-1}return~(t=u(l))&&(n=o[t]=s[t](l)),{c(){e=w("div"),n&&n.c(),p(e,"class","background svelte-187qhud")},m(r,f){H(r,e,f),~t&&o[t].m(e,null),i=!0},p(r,f){let c=t;t=u(r),t===c?~t&&o[t].p(r,f):(n&&(te(),k(o[c],1,1,()=>{o[c]=null}),ne()),~t?(n=o[t],n?n.p(r,f):(n=o[t]=s[t](r),n.c()),_(n,1),n.m(e,null)):n=null)},i(r){i||(_(n),r&&he(()=>{i&&(a||(a=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!0)),a.run(1))}),i=!0)},o(r){k(n),r&&(a||(a=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!1)),a.run(0)),i=!1},d(r){r&&$(e),~t&&o[t].d(),r&&a&&a.end()}}}function Ns(l){let e,t;return e=new Dt({props:{title:"Choose perk",list:l[2].secondPerk.list,selectedItem:l[4],nextButton:"Submit"}}),e.$on("back",l[7]),e.$on("next",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&4&&(i.list=n[2].secondPerk.list),a&16&&(i.selectedItem=n[4]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Vs(l){let e,t;return e=new Dt({props:{title:"Choose perk",list:l[2].firstPerk.list,selectedItem:l[5]}}),e.$on("back",l[7]),e.$on("next",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&4&&(i.list=n[2].firstPerk.list),a&32&&(i.selectedItem=n[5]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function qs(l){let e,t;return e=new Dt({props:{title:"Choose background",list:l[1],selectedItem:l[2],backButton:"Cancel"}}),e.$on("back",l[7]),e.$on("next",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&2&&(i.list=n[1]),a&4&&(i.selectedItem=n[2]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function xs(l){let e,t,n=l[0]&&qn(l);return{c(){n&&n.c(),e=ht()},m(a,i){n&&n.m(a,i),H(a,e,i),t=!0},p(a,[i]){a[0]?n?(n.p(a,i),i&1&&_(n,1)):(n=qn(a),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(te(),k(n,1,1,()=>{n=null}),ne())},i(a){t||(_(n),t=!0)},o(a){k(n),t=!1},d(a){a&&$(e),n&&n.d(a)}}}function Js(l,e,t){let n,a;const i=me();let{isShown:s}=e,{list:o=[]}=e,u="back",r=o[0];const f=d=>{u==="back"?(t(2,r=d.detail),t(3,u="first-perk")):u==="first-perk"?(t(5,n=d.detail),t(3,u="second-perk")):u==="second-perk"&&(t(4,a=d.detail),i("submit",{background:r,firstPerk:n,secondPerk:a}),t(3,u="back"))},c=()=>{u==="back"?i("cancel"):u==="first-perk"?t(3,u="back"):u==="second-perk"&&t(3,u="first-perk")};return l.$$set=d=>{"isShown"in d&&t(0,s=d.isShown),"list"in d&&t(1,o=d.list)},l.$$.update=()=>{l.$$.dirty&4&&t(5,n=r.firstPerk.list[0]),l.$$.dirty&4&&t(4,a=r.secondPerk.list[0])},[s,o,r,u,a,n,f,c]}class Ks extends Z{constructor(e){super(),X(this,e,Js,xs,K,{isShown:0,list:1})}}function xn(l,e,t){const n=l.slice();return n[22]=e[t],n}function Jn(l,e,t){const n=l.slice();return n[25]=e[t],n}function Kn(l){let e,t,n,a=l[2][l[25]]+"",i,s,o,u,r;function f(){return l[14](l[25])}return{c(){e=w("button"),t=I(l[25]),n=I(": "),i=I(a),p(e,"ontouchstart",""),e.disabled=s=!l[4].includes(l[25])&&l[4].length>=2,p(e,"class",o=ee(`item${l[4].includes(l[25])?" selected":""}`)+" svelte-chwjuy")},m(c,d){H(c,e,d),g(e,t),g(e,n),g(e,i),u||(r=oe(e,"click",f),u=!0)},p(c,d){l=c,d&4&&a!==(a=l[2][l[25]]+"")&&U(i,a),d&16&&s!==(s=!l[4].includes(l[25])&&l[4].length>=2)&&(e.disabled=s),d&16&&o!==(o=ee(`item${l[4].includes(l[25])?" selected":""}`)+" svelte-chwjuy")&&p(e,"class",o)},d(c){c&&$(e),u=!1,r()}}}function Us(l){let e,t,n,a,i,s,o,u,r;i=new cs({props:{options:l[7],value:l[3]}}),i.$on("select",l[15]);let f=l[3]!=="random"&&Un(l);return{c(){e=w("section"),t=w("div"),t.innerHTML='<span class="text svelte-chwjuy">Starting gear</span>',n=S(),a=w("div"),P(i.$$.fragment),s=S(),o=w("span"),o.textContent=`You can use randomly generated starting gear or choose one of the
          starting packages.`,u=S(),f&&f.c(),p(t,"class","heading svelte-chwjuy"),p(o,"class","info svelte-chwjuy"),p(a,"class","inventory svelte-chwjuy"),p(e,"class","wrap svelte-chwjuy")},m(c,d){H(c,e,d),g(e,t),g(e,n),g(e,a),M(i,a,null),g(a,s),g(a,o),g(a,u),f&&f.m(a,null),r=!0},p(c,d){const m={};d&8&&(m.value=c[3]),i.$set(m),c[3]!=="random"?f?f.p(c,d):(f=Un(c),f.c(),f.m(a,null)):f&&(f.d(1),f=null)},i(c){r||(_(i.$$.fragment,c),r=!0)},o(c){k(i.$$.fragment,c),r=!1},d(c){c&&$(e),A(i),f&&f.d()}}}function Qs(l){let e,t,n,a,i,s=l[1].title+"",o,u,r,f=l[1].description+"",c,d,m,h;return m=new se({props:{$$slots:{default:[Xs]},$$scope:{ctx:l}}}),m.$on("click",l[11]),{c(){e=w("section"),t=w("div"),t.innerHTML='<span class="text svelte-chwjuy">Background</span>',n=S(),a=w("div"),i=w("span"),o=I(s),u=S(),r=w("span"),c=I(f),d=S(),P(m.$$.fragment),p(t,"class","heading svelte-chwjuy"),p(i,"class","background svelte-chwjuy"),p(r,"class","info svelte-chwjuy"),p(a,"class","inventory svelte-chwjuy"),p(e,"class","wrap svelte-chwjuy")},m(b,y){H(b,e,y),g(e,t),g(e,n),g(e,a),g(a,i),g(i,o),g(a,u),g(a,r),g(r,c),g(a,d),M(m,a,null),h=!0},p(b,y){(!h||y&2)&&s!==(s=b[1].title+"")&&U(o,s),(!h||y&2)&&f!==(f=b[1].description+"")&&U(c,f);const v={};y&268435456&&(v.$$scope={dirty:y,ctx:b}),m.$set(v)},i(b){h||(_(m.$$.fragment,b),h=!0)},o(b){k(m.$$.fragment,b),h=!1},d(b){b&&$(e),A(m)}}}function Un(l){let e,t=Q(ct().find(l[16]).inventory),n=[];for(let a=0;a<t.length;a+=1)n[a]=Xn(xn(l,t,a));return{c(){e=w("div");for(let a=0;a<n.length;a+=1)n[a].c();p(e,"class","items-list")},m(a,i){H(a,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(a,i){if(i&8){t=Q(ct().find(a[16]).inventory);let s;for(s=0;s<t.length;s+=1){const o=xn(a,t,s);n[s]?n[s].p(o,i):(n[s]=Xn(o),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(a){a&&$(e),pe(n,a)}}}function Qn(l){let e,t=l[22].title+"",n;return{c(){e=w("span"),n=I(t),p(e,"class","item svelte-chwjuy")},m(a,i){H(a,e,i),g(e,n)},p(a,i){i&8&&t!==(t=a[22].title+"")&&U(n,t)},d(a){a&&$(e)}}}function Xn(l){let e,t=l[22].title&&Qn(l);return{c(){t&&t.c(),e=ht()},m(n,a){t&&t.m(n,a),H(n,e,a)},p(n,a){n[22].title?t?t.p(n,a):(t=Qn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&$(e),t&&t.d(n)}}}function Xs(l){let e;return{c(){e=I("Choose background")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Zs(l){let e;return{c(){e=I("Back")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function eo(l){let e;return{c(){e=I("Save")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function to(l){let e,t,n,a,i,s,o,u,r,f,c,d,m,h,b,y,v,B,O,C,D,x,z,J,R,G,E,V;i=new Fe({props:{value:l[2].name,placeholder:"Name",paddingRight:"45px"}}),i.$on("input",l[13]),u=new se({props:{borderless:!0,image:bs,height:25}}),u.$on("click",l[8]);let F=Q(["str","dex","wil"]),le=[];for(let T=0;T<3;T+=1)le[T]=Kn(Jn(l,F,T));const L=[Qs,Us],W=[];function q(T,ae){return T[5]==="second"?0:1}return v=q(l),B=W[v]=L[v](l),D=new se({props:{$$slots:{default:[Zs]},$$scope:{ctx:l}}}),D.$on("click",l[17]),z=new se({props:{disabled:!l[2].name,$$slots:{default:[eo]},$$scope:{ctx:l}}}),z.$on("click",l[18]),E=new Ks({props:{list:St,isShown:l[0]}}),E.$on("cancel",l[11]),E.$on("submit",l[12]),{c(){e=w("div"),t=w("h2"),t.textContent="Create a character",n=S(),a=w("div"),P(i.$$.fragment),s=S(),o=w("div"),P(u.$$.fragment),r=S(),f=w("section"),c=w("div"),c.innerHTML='<span class="text svelte-chwjuy">Stats</span>',d=S(),m=w("div");for(let T=0;T<3;T+=1)le[T].c();h=S(),b=w("span"),b.textContent=`You can swap two of your stats by selecting or deselecting them with a
        click, and the change will take effect after character creation.`,y=S(),B.c(),O=S(),C=w("div"),P(D.$$.fragment),x=S(),P(z.$$.fragment),G=S(),P(E.$$.fragment),p(t,"class","title svelte-chwjuy"),p(o,"class","dice svelte-chwjuy"),p(a,"class","name svelte-chwjuy"),p(c,"class","heading svelte-chwjuy"),p(b,"class","info svelte-chwjuy"),p(m,"class","stats svelte-chwjuy"),p(f,"class","wrap svelte-chwjuy"),p(C,"class","controls svelte-chwjuy"),p(e,"class","form svelte-chwjuy")},m(T,ae){H(T,e,ae),g(e,t),g(e,n),g(e,a),M(i,a,null),g(a,s),g(a,o),M(u,o,null),g(e,r),g(e,f),g(f,c),g(f,d),g(f,m);for(let _e=0;_e<3;_e+=1)le[_e]&&le[_e].m(m,null);g(m,h),g(m,b),g(e,y),W[v].m(e,null),g(e,O),g(e,C),M(D,C,null),g(C,x),M(z,C,null),H(T,G,ae),M(E,T,ae),V=!0},p(T,[ae]){const _e={};if(ae&4&&(_e.value=T[2].name),i.$set(_e),ae&532){F=Q(["str","dex","wil"]);let ce;for(ce=0;ce<3;ce+=1){const ue=Jn(T,F,ce);le[ce]?le[ce].p(ue,ae):(le[ce]=Kn(ue),le[ce].c(),le[ce].m(m,h))}for(;ce<3;ce+=1)le[ce].d(1)}let Le=v;v=q(T),v===Le?W[v].p(T,ae):(te(),k(W[Le],1,1,()=>{W[Le]=null}),ne(),B=W[v],B?B.p(T,ae):(B=W[v]=L[v](T),B.c()),_(B,1),B.m(e,O));const ze={};ae&268435456&&(ze.$$scope={dirty:ae,ctx:T}),D.$set(ze);const Be={};ae&4&&(Be.disabled=!T[2].name),ae&268435456&&(Be.$$scope={dirty:ae,ctx:T}),z.$set(Be);const Oe={};ae&1&&(Oe.isShown=T[0]),E.$set(Oe)},i(T){V||(_(i.$$.fragment,T),_(u.$$.fragment,T),_(B),_(D.$$.fragment,T),_(z.$$.fragment,T),T&&he(()=>{V&&(R&&R.end(1),J=gt(e,De,{delay:200,duration:200}),J.start())}),_(E.$$.fragment,T),V=!0)},o(T){k(i.$$.fragment,T),k(u.$$.fragment,T),k(B),k(D.$$.fragment,T),k(z.$$.fragment,T),J&&J.invalidate(),T&&(R=pt(e,De,{duration:200})),k(E.$$.fragment,T),V=!1},d(T){T&&($(e),$(G)),A(i),A(u),pe(le,T),W[v].d(),A(D),A(z),T&&R&&R.end(),A(E,T)}}}function no(l,e,t){let n,a;re(l,He,R=>t(5,n=R)),re(l,Ce,R=>t(21,a=R));const i=me();let s=!1,o=n==="second"?St[Y(1,St.length)-1]:null,u=o==null?void 0:o.firstPerk.list[Y(1,1)-1],r=o==null?void 0:o.secondPerk.list[Y(1,6)-1],f={name:o?o.names[Y(1,o.names.length-1)]:"",str:Y(3,6),dex:Y(3,6),wil:Y(3,6),hp:u!=null&&u.hp?Y(1,6)+Y(1,4):Y(1,6),gp:Y(o?o.goldDices:3,6)},c=["random",...ct().map(R=>R.title)],d=c[0],m=[];const h=()=>{const R=Y(1,2)===1?hs[Y(1,20)]:ds[Y(1,20)];t(2,f.name=`${R} ${gs[Y(1,20)]}`,f)},b=R=>{if(m.includes(R)){const G=m.indexOf(R,0);G!==-1&&(m.splice(G,1),t(4,m=[...m]))}else{if(m.length>=2)return;t(4,m=[...m,R])}},y=()=>{var R,G;if(m.length===2){const E=f[m[0]],V=f[m[1]];t(2,f[m[0]]=V,f),t(2,f[m[1]]=E,f)}if(Pe.set(f.name),be.set({str:f.str,dex:f.dex,wil:f.wil,strMax:f.str,dexMax:f.dex,wilMax:f.wil}),fe.set({hp:f.hp,hpMax:f.hp,armor:0,deprived:!1}),Ce.set({gp:f.gp.toString(),sp:"0",cp:"0"}),n==="second"){const E=o.title==="Fieldwarden"||o.title==="Outrider"&&u.items.length&&u.items[0].title==="Blacked-out Ledger",V=E?[je[Y(1,je.length)-1],je[Y(1,je.length)-1]]:[je[Y(1,je.length)-1]];ve.set(o.inventory),u.items&&Ne(u.items),r.items&&Ne(r.items),Re.set(o.petty),u.petty&&Ne(u.petty),r.petty&&Ne(r.petty),V.forEach(F=>{F.gold&&Ce.change("gp",(+a.gp+20).toString()),F.items&&Ne(F.items),F.petty&&Ne(F.petty)}),Xe.set({background:o.title,description:o.description,firstPerk:{title:o.firstPerk.title,content:u.content},secondPerk:{title:o.secondPerk.title,subtitle:r.title,content:r.content},bonds:E?[V[0].content,V[1].content]:[V[0].content]}),Me.set(`Age: ${Y(2,20)+10}. 
You have an ${Yn[Y(1,10)]} physique, ${Dn[Y(1,10)]} skin, ${Fn[Y(1,10)]} hair, and a ${zn[Y(1,10)]} face.
You speak in a ${On[Y(1,10)]} manner and wear ${En[Y(1,10)]} clothing.
You are ${jn[Y(1,10)]} yet ${Gn[Y(1,10)]}.`),we.set([]),(R=u.companions)!=null&&R.length&&u.companions.forEach(F=>we.addCompanion(F)),(G=r.companions)!=null&&G.length&&r.companions.forEach(F=>we.addCompanion(F))}n==="first"&&(ve.set(d==="random"?rs():ct().find(E=>E.title===d).inventory),Me.set(`Age: ${Y(2,20)+10}, formerly a ${ps[Y(1,20)]}.
You have an ${Yn[Y(1,10)]} physique, ${Dn[Y(1,10)]} skin, ${Fn[Y(1,10)]} hair, and a ${zn[Y(1,10)]} face.
You speak in a ${On[Y(1,10)]} manner and wear ${En[Y(1,10)]} clothing.
You are ${jn[Y(1,10)]} yet ${Gn[Y(1,10)]}, and are generally regarded as ${ms[Y(1,10)]}.
You have had the misfortune of being ${ys[Y(1,10)]}.`)),ie(),i("hide-form")},v=()=>{t(0,s=!s)};return[s,o,f,d,m,n,i,c,h,b,y,v,R=>{t(1,o=R.detail.background),u=R.detail.firstPerk,r=R.detail.secondPerk,v()},R=>t(2,f.name=R.detail,f),R=>b(R),R=>t(3,d=R.detail),R=>R.title===d,()=>i("hide-form"),()=>y()]}class lo extends Z{constructor(e){super(),X(this,e,no,to,K,{})}}function ao(l){let e,t,n;return{c(){e=w("div"),p(e,"class","loading svelte-tz0e0i")},m(a,i){H(a,e,i),n=!0},p:j,i(a){n||(t&&t.end(1),n=!0)},o(a){a&&(t=pt(e,De,{duration:200})),n=!1},d(a){a&&$(e),a&&t&&t.end()}}}class io extends Z{constructor(e){super(),X(this,e,null,ao,K,{})}}function so(l){let e,t;return e=new lo({}),e.$on("hide-form",l[4]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function oo(l){let e,t;return e=new ss({}),e.$on("show-form",l[4]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ro(l){let e,t;return e=new Di({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function uo(l){let e,t;return e=new io({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function fo(l){let e,t,n,a;return{c(){e=w("span"),e.textContent=`This is a new version of the app and you can now create characters for
      Cairn 2ed!
    `,t=w("br"),n=S(),a=w("span"),a.innerHTML='If you find any bug, please<br/> <a href="https://brightsdays.github.io/contacts/" target="_blank">let me know</a> :)'},m(i,s){H(i,e,s),H(i,t,s),H(i,n,s),H(i,a,s)},p:j,d(i){i&&($(e),$(t),$(n),$(a))}}}function co(l){let e,t,n,a,i,s;const o=[uo,ro,oo,so],u=[];function r(f,c){return f[2]?0:f[3]?1:f[1]?3:2}return t=r(l),n=u[t]=o[t](l),i=new Se({props:{isShown:l[0],submission:!0,$$slots:{default:[fo]},$$scope:{ctx:l}}}),i.$on("cancel",l[5]),{c(){e=w("main"),n.c(),a=S(),P(i.$$.fragment),p(e,"class","svelte-ncbruq")},m(f,c){H(f,e,c),u[t].m(e,null),g(e,a),M(i,e,null),s=!0},p(f,[c]){let d=t;t=r(f),t===d?u[t].p(f,c):(te(),k(u[d],1,1,()=>{u[d]=null}),ne(),n=u[t],n?n.p(f,c):(n=u[t]=o[t](f),n.c()),_(n,1),n.m(e,a));const m={};c&1&&(m.isShown=f[0]),c&128&&(m.$$scope={dirty:c,ctx:f}),i.$set(m)},i(f){s||(_(n),_(i.$$.fragment,f),s=!0)},o(f){k(n),k(i.$$.fragment,f),s=!1},d(f){f&&$(e),u[t].d(),A(i)}}}function ho(l,e,t){let n;re(l,Pe,f=>t(3,n=f));let a=!1,i=!1,s=!0;const o=()=>{t(1,i=!i)},u=()=>{t(0,a=!1),localStorage.setItem("pc_modal_1.11","shown")},r=()=>{const f=localStorage.getItem("pc__character");return f&&Yt(JSON.parse(f))&&(He.set(JSON.parse(f).edition),Pe.set(JSON.parse(f).name),be.set(JSON.parse(f).abilities),fe.set(JSON.parse(f).stats),Ce.set(JSON.parse(f).coins),ve.set(JSON.parse(f).inventory),Re.set(JSON.parse(f).petty),ye.set(JSON.parse(f).scars),Me.set(JSON.parse(f).notes),Xe.set(JSON.parse(f).biography),we.set(JSON.parse(f).companions||[])),!0};return $l(()=>{localStorage.removeItem("pc_modal_1.12"),localStorage.getItem("pc_modal_1.11")||t(0,a=!0),r(),setTimeout(()=>t(2,s=!1),200)}),[a,i,s,n,o,u]}class go extends Z{constructor(e){super(),X(this,e,ho,co,K,{})}}new go({target:document.getElementById("app")});
